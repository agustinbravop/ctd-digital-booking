{"version":3,"sources":["utils/auth.js","context/AuthContext.jsx","constants/index.js","context/FiltroContext.jsx","img/logoDB.svg","components/Logo/Logo.jsx","img/menu-hamburguesa.svg","components/RedesSociales/RedesSociales.jsx","components/SaludoRegistrado/SaludoRegistrado.jsx","components/Header/Header.jsx","components/Footer/Footer.jsx","components/LayoutGeneral/LayoutGeneral.jsx","customHooks/useFetch.jsx","components/Buscador/SelectCiudad.jsx","components/Buscador/Buscador.jsx","components/CardCategoria/CardCategoria.jsx","components/Error/Error.jsx","components/LoadingBar/LoadingBar.jsx","components/CategoriaList/CategoriaList.jsx","context/FavsContext.jsx","components/FavHeart/FavHeart.jsx","components/ModalMap/ModalMap.jsx","components/Card/Card.jsx","components/CardList/CardList.jsx","components/Paginador/Paginador.jsx","pages/HomePage/HomePage.jsx","components/Login/Login.jsx","pages/LoginPage/LoginPage.jsx","components/DeadEnd/DeadEnd.jsx","pages/NotFoundPage/NotFoundPage.jsx","components/Registro/Registro.jsx","pages/RegistroPage/RegistroPage.jsx","components/Titulo/Titulo.jsx","pages/MisFavoritosPage/MisFavoritosPage.jsx","utils/dates.js","components/CardReservaList/CardReserva.jsx","components/CardReservaList/CardReservaList.jsx","pages/MisReservasPage/MisReservasPage.jsx","context/ProdContext.jsx","components/ProductoHeader/ProductoHeader.jsx","components/ProductoUbicacion/ProductoUbicacion.jsx","components/ProductoImagenes/ProductoImagenesGaleria.jsx","components/ProductoImagenes/ProductoImagenesGaleriaMini.jsx","components/ProductoImagenes/ProductoImagenes.jsx","components/ProductoDescripcion/ProductoDescripcion.jsx","components/ProductoCaracteristicas/ProductoCaracteristicas.jsx","components/ProductoDisponibilidad/ProductoDisponibilidad.jsx","components/ProductoMapa/ProductoMapa.jsx","components/ProductoPoliticas/ProductoPoliticas.jsx","img/share-icon.svg","components/ProductoSocials/ProductoSocials.jsx","pages/Producto/Producto.jsx","components/ReservaDatosUsuario/ReservaDatosUsuario.jsx","components/ReservaCalendario/ReservaCalendario.jsx","components/ReservaHorario/ReservaHorario.jsx","components/ReservaDetalle/ReservaDetalle.jsx","pages/Reserva/Reserva.jsx","components/CartelExito/CartelExito.jsx","img/reserva-exitosa.png","pages/ReservaExitosa/ReservaExitosa.jsx","components/NuevoProductoCamposEntrada/NuevoProductoCamposEntrada.jsx","components/NuevoProductoCaracteristicas/NuevoProductoCaracteristicas.jsx","components/NuevoProductoPoliticas/NuevoProductoPoliticas.jsx","components/NuevoProductoImagenes/NuevoProductoImagenes.jsx","pages/NuevoProductoPage/NuevoProductoPage.jsx","pages/NuevoProductoOk/NuevoProductoOk.jsx","pages/RegistroExitosoPage/RegistroExitosoPage.jsx","App.jsx","index.js"],"names":["getAuthStorage","JSON","parse","localStorage","getItem","AuthContext","createContext","auth","idUsuario","Number","firstName","lastName","email","jwt","favoritos","roles","authenticate","logout","Provider","AuthProvider","children","useState","setAuth","useEffect","storedAuth","jwt_decode","exp","Date","now","removeItem","value","response","obj","nombre","apellido","authorities","map","el","authority","setItem","stringify","environment","FiltroContext","resultados","hayFiltros","Boolean","filtros","porCategoria","porIdCiudad","porFechaInicio","porFechaFin","limpiarFiltros","newFiltros","newResultados","FiltroProvider","setHayFiltros","setResultados","setFiltros","BASE_URL","PRODUCTOS_ENDPOINT","fetchResultados","nuevosFiltros","a","url","URL","searchParams","append","toJSON","fetch","res","status","Error","json","data","console","error","setNewFiltros","undefined","Logo","useContext","to","className","onClick","src","img","alt","RedesSociales","href","target","rel","SaludoRegistrado","menuDrawer","onExit","props","charAt","toUpperCase","id","title","InvitadoDesktopLinks","links","page","idx","link","InvitadoMobileLinks","LoggedInDesktopLinks","linksPorRol","rolesDelUsuario","Object","keys","filter","rol","includes","LoggedInMobileLinks","Header","open","setOpen","linksDeInvitado","ROLE_USER","ROLE_ADMIN","history","useHistory","exit","push","MenuHamburguesa","Footer","LayoutGeneral","loc","useLocation","pathname","style","useFetch","setData","isLoading","setLoading","setError","settings","method","headers","Authorization","getData","OptionCiudad","ciudad","pais","SelectCiudad","ciudades","options","c","idCiudad","label","styles","control","provided","border","boxShadow","option","state","borderBottom","padding","margin","backgroundColor","isFocused","valueContainer","height","paddingTop","input","singleValue","opacity","selectProps","menuIsOpen","indicatorSeparator","dropdownIndicator","openMenuOnFocus","Buscador","CIUDADES_ENDPOINT","setCiudad","fechaInicio","setFechaInicio","fechaFin","setFechaFin","window","innerWidth","width","setWidth","handleResize","addEventListener","removeEventListener","onSubmit","e","preventDefault","document","querySelector","onChange","newValue","inputId","name","placeholder","monthsShown","placeholderText","dateFormat","dates","start","end","startDate","endDate","selectsRange","minDate","CardCategoria","categoria","handleFiltrar","idCategoria","titulo","urlImagen","descripcion","CATEGORIAS_ENDPOINT","cantidadProds","toString","info","textAlign","borderRadius","display","alignItems","justifyContent","gap","color","fontWeight","fontSize","LoadingBar","CategoriaList","categorias","nuevoPorCategoria","cat","find","FavsContext","favs","idProducto","addNewFav","removeFav","FavsProvider","setFavs","prods","fetchFavs","FavHeart","colorOn","colorOff","fav","isOn","setOn","ModalMap","direccion","latitud","longitud","openMap","handleMap","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","Marker","position","Popup","Card","producto","imagenes","caracteristicas","promedio","isActive","setActive","setOpenMap","toFixed","caract","index","urlIcono","CardList","productos","prod","Paginador","totalPages","handlePage","btnPages","i","num","HomePage","setPage","content","TextInput","useField","field","meta","isBad","touched","htmlFor","PasswordInput","showPass","setShowPass","type","Login","badRequestMsg","setBadRequestMsg","forwardUrl","location","loginReserva","destination","initialValues","password","validationSchema","Yup","required","min","values","usuario","contrasena","body","LoginPage","DeadEnd","desc","btnText","NotFoundPage","Registro","repassword","oneOf","message","RegistroPage","Titulo","goBack","background","MisFavoritosPage","id_usuario","useParams","length","getDaysBetweenTwoDates","arr","dt","getDateFromString","setDate","getDate","toLocaleDateString","getFechasOcupadasFromReservas","reservas","fechasOcupadas","flat","isDateInArray","dateArray","isoString","substring","CardReserva","reserva","PUNTUACIONES_ENDPOINT","idReserva","puntaje","stars","setStars","fetchPuntaje","endpoint","metodo","codigo","puntuacion","getTime","idPuntuacion","n","punt","handlePuntaje","CardReservaList","puntajes","forEach","sort","b","MisReservasPage","RESERVAS_ENDPOINT","ProdContext","newProd","ProdProvider","setProd","setReservas","ProductoHeader","ProductoUbicacion","renderRightNav","disabled","renderLeftNav","ProductoImagenesGaleria","imgList","onClose","items","original","thumbnail","originalHeight","originalWidth","thumbnailHeight","thumbnailWidth","originalAlt","thumbnailAlt","slideInterval","showIndex","showThumbnails","showFullscreenButton","showPlayButton","ProductoImagenesGaleriaMini","autoPlay","showNav","ProductoImagenes","imagen","verMas","setVerMas","isMediaAboveTablet","useMediaQuery","minWidth","galeriaContainerRef","useRef","handleClickOutside","current","contains","overflow","slice","ref","ProductoDescripcion","ProductoCaracteristicas","ProductoDisponibilidad","excludedDates","filterDate","date","inline","readOnly","ProductoMapa","ProductoPoliticas","politicas","politica","split","text","ShareMenu","host","ProductoSocials","isMenuOpen","setMenuOpen","ShareIcon","Producto","id_producto","ReservaDatosUsuario","defaultValue","rows","maxLength","ReservaCalendario","show","some","isDateRangeOccupied","ReservaHorario","ReservaDetalle","Reserva","setStartDate","setEndDate","formFeedback","setFormFeedback","inputs","elements","selectedOptions","horaIngreso","observaciones","trim","vacunadoCovid","checked","then","msg","catch","err","CartelExito","ReservaExitosa","NuevoProductoCamposEntrada","NuevoProductoCaracteristicas","CARACTERISTICAS_ENDPOINT","inputNombre","inputIcono","setCaract","fetchCaracteristicas","useCallback","caracteristica","idCaracteristica","car","NuevoProductoPoliticas","NuevoProductoImagenes","setImagenes","inputUrl","_","NuevoProductoPage","imgsAEnviar","NuevoProductoOk","RegistroExitosoPage","TOKEN_ENDPOINT","token","isOk","setOk","validateToken","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.69b64e06.chunk.js","sourcesContent":["export const setAuthStorage = (obj) => {\r\n  localStorage.setItem(\"auth\", JSON.stringify(obj));\r\n};\r\n\r\nexport const getAuthStorage = () => {\r\n  return JSON.parse(localStorage.getItem(\"auth\"));\r\n};\r\n\r\nexport const removeAuthStorage = () => {\r\n  localStorage.removeItem(\"auth\");\r\n};\r\n","import { createContext, useEffect, useState } from \"react\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nimport {\r\n  setAuthStorage,\r\n  getAuthStorage,\r\n  removeAuthStorage,\r\n} from \"../utils/auth\";\r\n\r\nexport const AuthContext = createContext({\r\n  auth: {\r\n    idUsuario: Number,\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    jwt: \"\",\r\n    favoritos: [null],\r\n    roles: [\"\"],\r\n  },\r\n  authenticate: (auth) => {},\r\n  logout: () => {},\r\n});\r\n\r\nconst { Provider } = AuthContext;\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [auth, setAuth] = useState(getAuthStorage());\r\n\r\n  useEffect(() => {\r\n    const storedAuth = getAuthStorage();\r\n    if (storedAuth) {\r\n      // chequear que el jwt no haya expirado\r\n      const decoded = jwt_decode(storedAuth.jwt);\r\n      if (decoded.exp * 1000 <= Date.now()) {\r\n        logout();\r\n      } else {\r\n        setAuth(storedAuth);\r\n      }\r\n    } else {\r\n      setAuth(null);\r\n    }\r\n  }, [setAuth]);\r\n\r\n  // Si en Login, user y pass son correctos son pasados a la función authenticate\r\n  const authenticate = (response) => {\r\n    const auth = {\r\n      idUsuario: response.idUsuario,\r\n      firstName: response.nombre,\r\n      lastName: response.apellido,\r\n      email: response.email,\r\n      jwt: response.jwt,\r\n      roles: response.authorities?.map((el) => el.authority),\r\n    };\r\n\r\n    setAuth(auth);\r\n    setAuthStorage(auth);\r\n  };\r\n\r\n  const logout = () => {\r\n    setAuth(null);\r\n    removeAuthStorage();\r\n  };\r\n\r\n  return <Provider value={{ auth, authenticate, logout }}>{children}</Provider>;\r\n};\r\n","export const environment = {\r\n    BASE_URL:\"http://18.234.148.80:8000\",\r\n    CIUDADES_ENDPOINT: \"/api/ciudades/\",\r\n    PRODUCTOS_ENDPOINT: \"/api/productos/\",\r\n    CATEGORIAS_ENDPOINT: \"/api/categorias/\",\r\n    RESERVAS_ENDPOINT: \"/api/reservas/\",\r\n    CARACTERISTICAS_ENDPOINT: \"/api/caracteristicas/\",\r\n    TOKEN_ENDPOINT: \"/auth/confirm-account/\",\r\n    PUNTUACIONES_ENDPOINT: \"/auth/puntuaciones/\",\r\n};\r\n\r\n// \"http://18.234.148.80:8000\"\r\n","import { createContext, useState } from \"react\";\r\nimport { environment } from \"../constants\";\r\n\r\nexport const FiltroContext = createContext({\r\n  resultados: [null],\r\n  hayFiltros: Boolean,\r\n  filtros: {\r\n    porCategoria: \"\",\r\n    porIdCiudad: \"\",\r\n    porFechaInicio: Date,\r\n    porFechaFin: Date,\r\n  },\r\n  limpiarFiltros: () => {},\r\n  newFiltros: (filtros) => {},\r\n  newResultados: (resultados, filtros) => {},\r\n});\r\n\r\nconst { Provider } = FiltroContext;\r\n\r\nexport const FiltroProvider = ({ children }) => {\r\n  const [hayFiltros, setHayFiltros] = useState(false);\r\n  const [resultados, setResultados] = useState([]);\r\n  const [filtros, setFiltros] = useState({\r\n    porCategoria: \"\",\r\n    porIdCiudad: \"\",\r\n    porFechaInicio: null,\r\n    porFechaFin: null,\r\n  });\r\n\r\n  const { BASE_URL, PRODUCTOS_ENDPOINT } = environment;\r\n\r\n  const fetchResultados = async (nuevosFiltros) => {\r\n    const url = new URL(`${BASE_URL}${PRODUCTOS_ENDPOINT}`);\r\n\r\n    if (nuevosFiltros.porCategoria) {\r\n      url.searchParams.append(\"categoria\", nuevosFiltros.porCategoria);\r\n    }\r\n    if (nuevosFiltros.porIdCiudad) {\r\n      url.searchParams.append(\"ciudad\", nuevosFiltros.porIdCiudad);\r\n    }\r\n    if (nuevosFiltros.porFechaInicio) {\r\n      // hardcode hasta que funcionalidad exista\r\n      url.searchParams.append(\r\n        \"fecha_inicio\",\r\n        nuevosFiltros.porFechaInicio.toJSON()\r\n      );\r\n    }\r\n    if (nuevosFiltros.porFechaFin) {\r\n      // hardcode hasta que funcionalidad exista\r\n      url.searchParams.append(\"fecha_fin\", nuevosFiltros.porFechaFin.toJSON());\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(url);\r\n      if (res.status !== 200) throw new Error(\"Algo salió mal\");\r\n      const data = await res.json();\r\n      setResultados(data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const setNewFiltros = (nuevosFiltros) => {\r\n    nuevosFiltros = nuevosFiltros || {};\r\n\r\n    if (nuevosFiltros.porCategoria === undefined) {\r\n      nuevosFiltros.porCategoria = filtros.porCategoria;\r\n    }\r\n    if (nuevosFiltros.porIdCiudad === undefined) {\r\n      nuevosFiltros.porIdCiudad = filtros.porIdCiudad;\r\n    }\r\n    if (nuevosFiltros.porFechaInicio === undefined) {\r\n      nuevosFiltros.porFechaInicio = filtros.porFechaInicio;\r\n    }\r\n    if (nuevosFiltros.porFechaFin === undefined) {\r\n      nuevosFiltros.porFechaFin = filtros.porFechaFin;\r\n    }\r\n    setHayFiltros(\r\n      !!nuevosFiltros.porCategoria ||\r\n        !!nuevosFiltros.porIdCiudad ||\r\n        !!nuevosFiltros.porFechaInicio ||\r\n        !!nuevosFiltros.porFechaFin\r\n    );\r\n    setFiltros(nuevosFiltros);\r\n\r\n    return nuevosFiltros;\r\n  };\r\n\r\n  const limpiarFiltros = () => {\r\n    setNewFiltros({\r\n      porCategoria: \"\",\r\n      porIdCiudad: \"\",\r\n      porFechaInicio: null,\r\n      porFechaFin: null,\r\n    });\r\n  };\r\n\r\n  const newFiltros = (nuevosFiltros) => {\r\n    nuevosFiltros = setNewFiltros(nuevosFiltros);\r\n    fetchResultados(nuevosFiltros);\r\n  };\r\n\r\n  const newResultados = (resultados, nuevosFiltros) => {\r\n    if (nuevosFiltros) {\r\n      setNewFiltros(nuevosFiltros);\r\n    }\r\n    setResultados(resultados);\r\n  };\r\n\r\n  return (\r\n    <Provider\r\n      value={{\r\n        resultados,\r\n        filtros,\r\n        hayFiltros,\r\n        limpiarFiltros,\r\n        newFiltros,\r\n        newResultados,\r\n      }}\r\n    >\r\n      {children}\r\n    </Provider>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logoDB.5fc5a539.svg\";","import { useContext } from \"react\";\r\nimport { FiltroContext } from \"./../../context/FiltroContext\";\r\nimport { Link } from \"react-router-dom\";\r\nimport img from './../../img/logoDB.svg';\r\nimport './Logo.css';\r\n\r\nfunction Logo() {\r\n    const { hayFiltros, limpiarFiltros } = useContext(FiltroContext);\r\n\r\n    const handleLimpiarFiltro = () => {\r\n        if(hayFiltros) limpiarFiltros();\r\n    }\r\n\r\n    return ( \r\n        <Link to='/' className=\"logo-img\" onClick={handleLimpiarFiltro}>\r\n            <img src={img} alt=\"Logo Digital Booking\" />\r\n            <span className=\"logo-lema\">Sentite como en tu hogar</span>\r\n        </Link>\r\n     );\r\n}\r\n \r\nexport default Logo;\r\n","export default __webpack_public_path__ + \"static/media/menu-hamburguesa.35363cdc.svg\";","import \"./RedesSociales.css\";\r\n\r\nfunction RedesSociales({ className }) {\r\n  return (\r\n    <ul className={\"redes-sociales \" + (className ? className : \"\") }>\r\n      <li>\r\n        <a href=\"https://www.facebook.com\" target=\"_blank\" rel=\"noreferrer\">\r\n          <i className=\"fab fa-facebook\"></i>\r\n        </a>\r\n      </li>\r\n      <li>\r\n        <a href=\"https://www.linkedin.com\" target=\"_blank\" rel=\"noreferrer\">\r\n          <i className=\"fab fa-linkedin-in\"></i>\r\n        </a>\r\n      </li>\r\n      <li>\r\n        <a href=\"https://www.twitter.com\" target=\"_blank\" rel=\"noreferrer\">\r\n          <i className=\"fab fa-twitter\"></i>\r\n        </a>\r\n      </li>\r\n      <li>\r\n        <a href=\"https://www.instagram.com\" target=\"_blank\" rel=\"noreferrer\">\r\n          <i className=\"fab fa-instagram\"></i>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default RedesSociales;\r\n","import { useContext } from \"react\";\r\nimport { AuthContext } from \"./../../context/AuthContext\";\r\nimport \"./SaludoRegistrado.css\";\r\n\r\nfunction SaludoRegistrado({ menuDrawer, onExit, ...props }) {\r\n  const { auth: { firstName, lastName } } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div {...props} className={menuDrawer ? \"saludo-mobile\" : \"saludo-registrado\"}>\r\n      <span className=\"icono-usuario\">\r\n        {firstName?.charAt().toUpperCase()}\r\n        {lastName?.charAt().toUpperCase()}\r\n      </span>\r\n      \r\n      <div className=\"txt\">\r\n        <p className=\"txt-hola\">Hola,</p>\r\n        <p className=\"txt-nombre\">{firstName + \" \" + lastName}</p>\r\n      </div>\r\n\r\n      {!menuDrawer && (\r\n        <button id=\"salir\" onClick={onExit} title=\"Salir\">\r\n          <i className=\"fas fa-sign-out-alt\"></i>\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SaludoRegistrado;\r\n","import { useState, useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"./../../context/AuthContext\";\r\nimport Logo from \"../Logo/Logo\";\r\nimport MenuHamburguesa from \"./../../img/menu-hamburguesa.svg\";\r\nimport RedesSociales from \"../RedesSociales/RedesSociales\";\r\nimport SaludoRegistrado from \"../SaludoRegistrado/SaludoRegistrado\";\r\nimport \"./Header.css\";\r\n\r\nconst InvitadoDesktopLinks = ({ links, page }) => {\r\n  return links.map(\r\n    ([link, title], idx) =>\r\n      page !== link && (\r\n        <Link key={idx} to={link} className=\"btn btn-secundario btn-xs\">\r\n          {title}\r\n        </Link>\r\n      )\r\n  );\r\n};\r\nconst InvitadoMobileLinks = ({ links, page }) => {\r\n  return links.map(\r\n    ([link, title], idx) =>\r\n      page !== link && (\r\n        <li key={idx} className=\"btn-cuenta-drawer\">\r\n          <Link to={link}>{title}</Link>\r\n        </li>\r\n      )\r\n  );\r\n};\r\nconst LoggedInDesktopLinks = ({ linksPorRol, rolesDelUsuario, page }) => {\r\n  return Object.keys(linksPorRol)\r\n    .filter((rol) => rolesDelUsuario?.includes(rol))\r\n    .map((rol) =>\r\n      linksPorRol[rol].map(\r\n        ([link, title], idx) =>\r\n          page !== link && (\r\n            <Link key={idx} to={link} className=\"btn-header-link\">\r\n              {title}\r\n            </Link>\r\n          )\r\n      )\r\n    );\r\n};\r\nconst LoggedInMobileLinks = ({ linksPorRol, rolesDelUsuario, page }) => {\r\n  return Object.keys(linksPorRol)\r\n    .filter((rol) => rolesDelUsuario?.includes(rol))\r\n    .map((rol) =>\r\n      linksPorRol[rol].map(\r\n        ([link, title], idx) =>\r\n          page !== link && (\r\n            <li key={idx} className=\"btn-cuenta-drawer\">\r\n              <Link to={link}>{title}</Link>\r\n            </li>\r\n          )\r\n      )\r\n    );\r\n};\r\n\r\nfunction Header({ page }) {\r\n  const [open, setOpen] = useState(false);\r\n  const { auth, logout } = useContext(AuthContext);\r\n  \r\n  const linksDeInvitado = [\r\n    [\"/registro\", \"Crear cuenta\"],\r\n    [\"/login\", \"Iniciar sesión\"],\r\n  ];\r\n  const linksPorRol = {\r\n    ROLE_USER: [\r\n      [`/usuario/${auth?.idUsuario}/reservas`, \"Mis reservas\"],\r\n      [`/usuario/${auth?.idUsuario}/favoritos`, \"Mis Favoritos\"],\r\n    ],\r\n    ROLE_ADMIN: [[\"/admin\", \"Administración\"]]\r\n  };\r\n  \r\n  const history = useHistory();\r\n  const exit = () => {\r\n    logout();\r\n    history.push(\"/\");\r\n  }\r\n\r\n  return (\r\n    <header className=\"main-header\">\r\n      <Logo />\r\n\r\n      <nav className=\"main-header__navbar\">\r\n        {auth ? (\r\n          <>\r\n            <LoggedInDesktopLinks\r\n              linksPorRol={linksPorRol}\r\n              rolesDelUsuario={auth.roles}\r\n              page={page}\r\n            />\r\n            <div className=\"saludo-registrado-container\">\r\n              <SaludoRegistrado onExit={exit} />\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <InvitadoDesktopLinks links={linksDeInvitado} page={page} />\r\n        )}\r\n      </nav>\r\n\r\n      <div className=\"main-header__menu-hamburguesa\">\r\n        <button\r\n          onClick={() => setOpen(!open)}\r\n          aria-controls=\"collapse\"\r\n          aria-expanded={open}\r\n        >\r\n          <img src={MenuHamburguesa} alt=\"Menú\" />\r\n        </button>\r\n\r\n        <div className={\"collapse \" + (open ? \"collapse-show\" : \"\")}>\r\n          <div>\r\n            <div className=\"collapse-header\">\r\n              <button data-testid=\"open-collapse\" onClick={() => setOpen(!open)}>\r\n                <i className=\"fas fa-times\"></i>\r\n              </button>\r\n\r\n              {auth ? <SaludoRegistrado menuDrawer /> : <p>MENÚ</p>}\r\n            </div>\r\n\r\n            <div className=\"collapse-body\">\r\n              <ul className=\"ul-drawer\">\r\n                {auth ? (\r\n                  <LoggedInMobileLinks\r\n                    linksPorRol={linksPorRol}\r\n                    page={page}\r\n                    rolesDelUsuario={auth.roles}\r\n                  />\r\n                ) : (\r\n                  <InvitadoMobileLinks links={linksDeInvitado} page={page} />\r\n                )}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"collapse-footer\">\r\n            {auth ? (\r\n              <p>\r\n                ¿Deseas{\" \"}\r\n                <span onClick={exit} aria-label=\"cerrar\">\r\n                  cerrar sesión\r\n                </span>\r\n                ?\r\n              </p>\r\n            ) : (\r\n              <p></p>\r\n            )}\r\n            <RedesSociales />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import RedesSociales from '../RedesSociales/RedesSociales';\r\nimport Logo from '../../img/logoDB.svg';\r\nimport './Footer.css';\r\n\r\nfunction Footer() {\r\n\r\n    return (\r\n        <footer className=\"main-footer\">\r\n            <div className=\"copyright\">\r\n                <img src={Logo} alt=\"Isologotipo Digital Booking\"/>\r\n                <p>©2021 Digital Booking</p>\r\n            </div>\r\n            <RedesSociales />\r\n        </footer>\r\n    )\r\n  }\r\n\r\nexport default Footer;\r\n","import { useLocation } from \"react-router-dom\";\r\nimport Header from '../../components/Header/Header'\r\nimport Footer from \"../../components/Footer/Footer\";\r\n\r\nfunction LayoutGeneral({ children }) {\r\n    const loc = useLocation();\r\n    \r\n  return (\r\n    <>\r\n        <Header page={loc.pathname}/>\r\n            <main style={{'marginTop' : '80px', 'minHeight' : 'calc(100vh - 80px - 65px)'}}>\r\n              { children }\r\n            </main>\r\n        <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LayoutGeneral;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nfunction useFetch(url) {\r\n  const [data, setData] = useState(null);\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let jwt;\r\n    if (localStorage.getItem(\"auth\")) {\r\n      jwt = JSON.parse(localStorage.getItem(\"auth\"));\r\n    }\r\n    const settings = {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: jwt,\r\n      },\r\n    };\r\n\r\n    async function getData() {\r\n      setLoading(true);\r\n      setError(\"\");\r\n      try {\r\n        const res = await fetch(url, settings);\r\n        if (res.status >= 400) throw new Error(\"Algo salió mal\");\r\n        const data = await res.json();\r\n        setData(data);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setError(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    getData();\r\n  }, [url]);\r\n\r\n  return { data, isLoading, error };\r\n}\r\n\r\nexport default useFetch;\r\n","import React from \"react\";\r\nimport Select from \"react-select\";\r\nimport \"./SelectCiudad.css\";\r\n\r\nconst OptionCiudad = ({ ciudad, pais, ...props }) => {\r\n  return (\r\n    <div className=\"option-ciudad\" {...props}>\r\n      <i className=\"fas fa-map-marker-alt\"></i>\r\n      <div className=\"option-ciudad__data\">\r\n        <p className=\"option-ciudad__data__ciudad\">{ciudad}</p>\r\n        <p>{pais}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction SelectCiudad({ ciudades, ...props }) {\r\n  const options = ciudades?.map((c) => ({\r\n    value: `${c.nombre} ${c.pais}`,\r\n    id: c.idCiudad,\r\n    label: <OptionCiudad key={c.idCiudad} ciudad={c.nombre} pais={c.pais} />,\r\n  }));\r\n\r\n  const styles = {\r\n    control: (provided) => ({\r\n      ...provided,\r\n      border: 0,\r\n      boxShadow: \"none\",\r\n    }),\r\n    option: (provided, state) => ({\r\n      borderBottom: \"1px solid var(--colorUno)\",\r\n      padding: \"5px\",\r\n      margin: \"1px\",\r\n      backgroundColor: state.isFocused ? \"var(--colorFondoOscuro)\" : \"\"\r\n    }),\r\n    valueContainer: (provided) => ({\r\n      ...provided,\r\n      height: 40,\r\n      paddingTop: 0,\r\n      border: \"none\",\r\n    }),\r\n    input: (provided) => ({\r\n      ...provided,\r\n      padding: 0,\r\n      margin: 0,\r\n      border: \"none\",\r\n    }),\r\n    singleValue: (provided, state) => {\r\n      return ({\r\n      ...provided,\r\n      opacity: state.selectProps.menuIsOpen ? 0.1 : 1,\r\n    })},\r\n    indicatorSeparator: () => ({\r\n      opacity: 0,\r\n    }),\r\n    dropdownIndicator: () => ({\r\n      opacity: 0,\r\n    }),\r\n  };\r\n\r\n  return (\r\n    <Select\r\n      {...props}\r\n      options={options}\r\n      styles={styles}\r\n      className=\"select-ciudad\"\r\n      openMenuOnFocus\r\n    />\r\n  );\r\n}\r\n\r\nexport default SelectCiudad;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { FiltroContext } from \"./../../context/FiltroContext\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport useFetch from \"../../customHooks/useFetch\";\r\nimport SelectCiudad from \"./SelectCiudad.jsx\";\r\nimport { environment } from \"../../constants\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"./Buscador.css\";\r\n\r\nfunction Buscador() {\r\n  const { BASE_URL, CIUDADES_ENDPOINT } = environment;\r\n\r\n  const { data: ciudades } = useFetch(`${BASE_URL}${CIUDADES_ENDPOINT}`);\r\n\r\n  const { newFiltros } = useContext(FiltroContext);\r\n  const [ciudad, setCiudad] = useState(null);\r\n  const [fechaInicio, setFechaInicio] = useState(null);\r\n  const [fechaFin, setFechaFin] = useState(null);\r\n\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n  const handleResize = () => setWidth(window.innerWidth);\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  const resetForm = () => {\r\n    setCiudad(null);\r\n    setFechaInicio(null);\r\n    setFechaFin(null);\r\n    document.querySelector(\"#ciudad\").value = null;\r\n  };\r\n\r\n  // Nueva búsqueda\r\n  const handlerSubmit = (e) => {\r\n    e.preventDefault();\r\n    newFiltros({\r\n      porIdCiudad: ciudad ? ciudad.id : null,\r\n      porFechaInicio: fechaInicio,\r\n      porFechaFin: fechaFin,\r\n    });\r\n    resetForm();\r\n  };\r\n\r\n  const onChangePlace = (newValue) => {\r\n    // newValue es un objeto {id,value,label} del react-select\r\n    setCiudad(newValue);\r\n  };\r\n\r\n  const onChangeDates = (dates) => {\r\n    const [start, end] = dates;\r\n    setFechaInicio(start);\r\n    setFechaFin(end);\r\n  };\r\n\r\n  return (\r\n    <div className=\"contenedor-buscador\">\r\n      <h1>Buscá ofertas en casas, departamentos y mucho más</h1>\r\n      <form onSubmit={handlerSubmit} id=\"buscador\">\r\n        <div className=\"inputs\">\r\n          <SelectCiudad\r\n            value={ciudad}\r\n            ciudades={ciudades}\r\n            onChange={onChangePlace}\r\n            inputId=\"ciudad\"\r\n            name=\"ciudad\"\r\n            placeholder=\"¿A dónde vamos?\"\r\n          />\r\n\r\n          <div className=\"buscador-datepicker input\">\r\n            <DatePicker\r\n              monthsShown={width > 490 ? 2 : 1}\r\n              placeholderText=\"Check in - Check out\"\r\n              dateFormat=\"dd/MM/yyyy\"\r\n              onChange={onChangeDates}\r\n              startDate={fechaInicio}\r\n              endDate={fechaFin}\r\n              selectsRange\r\n              minDate={new Date()}\r\n            />\r\n          </div>\r\n        </div>\r\n        <button className=\"btn btn-primario btn-sm\" id=\"btn-buscador\">\r\n          Buscar\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Buscador;\r\n","import { useContext } from \"react\";\r\nimport { environment } from \"../../constants\";\r\nimport useFetch from \"../../customHooks/useFetch\";\r\nimport { FiltroContext } from \"./../../context/FiltroContext\";\r\nimport \"./CardCategoria.css\";\r\n\r\nfunction CardCategoria({ categoria, handleFiltrar }) {\r\n  const { idCategoria, titulo, urlImagen, descripcion } = categoria;\r\n  const {\r\n    hayFiltros,\r\n    filtros: { porCategoria },\r\n  } = useContext(FiltroContext);\r\n\r\n  const { BASE_URL, CATEGORIAS_ENDPOINT } = environment;\r\n  const { data: cantidadProds } = useFetch(\r\n    `${BASE_URL}${CATEGORIAS_ENDPOINT}cantidad/${idCategoria}`\r\n  );\r\n\r\n  return (\r\n    <article\r\n      className={`card-categoria ${\r\n        porCategoria === titulo ? \"filtro-activo\" : \"\"\r\n      }`}\r\n      id={idCategoria}\r\n      onClick={() => handleFiltrar(idCategoria, titulo)}\r\n    >\r\n      <div className={`card-categoria-img ${hayFiltros ? \"con-filtro\" : \"\"}`}>\r\n        <img src={urlImagen} alt={titulo} />\r\n      </div>\r\n\r\n      <div className=\"card-categoria-info\">\r\n        <h3>{titulo}</h3>\r\n        <p>\r\n          {cantidadProds ? cantidadProds.toString() : \"..\"} {descripcion}\r\n        </p>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default CardCategoria;\r\n","const Error = ({ info, ...props }) => {\r\n  const styleErrorContainer = {\r\n    padding: 10,\r\n    textAlign: \"center\",\r\n  };\r\n  const styleError = {\r\n    backgroundColor: \"#ffcacf\",\r\n    border: \"1px solid var(--colorError)\",\r\n    borderRadius: 5,\r\n    display: \"inline-flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    gap: 12,\r\n    color: \"var(--colorError)\",\r\n    fontWeight: \"bold\",\r\n    padding: 10,\r\n  };\r\n\r\n  return (\r\n    info && (\r\n      <div style={styleErrorContainer} {...props}>\r\n        <h4 style={styleError}>\r\n          <i style={{ fontSize: 20 }} className=\"fas fa-exclamation-circle\"></i>\r\n          {info}\r\n        </h4>\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import \"./LoadingBar.css\";\r\n\r\nfunction LoadingBar() {\r\n  return (\r\n    <p className=\"loading-bar\"></p>\r\n  );\r\n}\r\n\r\nexport default LoadingBar;\r\n","import { useContext } from \"react\";\r\nimport { FiltroContext } from \"./../../context/FiltroContext\";\r\nimport { environment } from \"../../constants\";\r\nimport CardCategoria from \"../CardCategoria/CardCategoria\";\r\nimport Error from \"../Error/Error\";\r\nimport useFetch from \"../../customHooks/useFetch\";\r\nimport \"./CategoriaList.css\";\r\nimport LoadingBar from \"../LoadingBar/LoadingBar\";\r\n\r\nfunction CategoriaList({ title }) {\r\n  const { BASE_URL, CATEGORIAS_ENDPOINT } = environment;\r\n\r\n  const {\r\n    data: categorias,\r\n    isLoading,\r\n    error,\r\n  } = useFetch(`${BASE_URL}${CATEGORIAS_ENDPOINT}`);\r\n\r\n  const { filtros: { porCategoria }, newFiltros, limpiarFiltros } = useContext(FiltroContext);\r\n\r\n  const handleFiltrar = (idCategoria, nuevoPorCategoria) => {\r\n    if (nuevoPorCategoria !== porCategoria) {\r\n      const cat = categorias.find(cat => cat.idCategoria === idCategoria);\r\n      newFiltros({ porCategoria: cat.titulo });\r\n    }\r\n  };\r\n\r\n  const limpiarFiltro = () => {\r\n    limpiarFiltros();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <LoadingBar />}\r\n      <section className=\"categoria-list\">\r\n        <h2>\r\n          {title}{\" \"}\r\n          <span\r\n            className={`ver-todas ${\r\n              porCategoria ? \"ver-todas-con-filtro\" : \"\"\r\n            }`}\r\n            onClick={() => limpiarFiltro()}\r\n          >\r\n            Ver todo\r\n          </span>\r\n        </h2>\r\n\r\n        {error ? (\r\n          <Error info={\"Error al cargar las categorías\"} />\r\n        ) : (\r\n          <ul>\r\n            {categorias?.map((categoria) => (\r\n              <CardCategoria\r\n                key={categoria.idCategoria}\r\n                categoria={categoria}\r\n                handleFiltrar={handleFiltrar}\r\n              />\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CategoriaList;\r\n","import { createContext, useState, useEffect, useContext } from \"react\";\r\nimport { environment } from \"../constants\";\r\nimport { AuthContext } from \"./AuthContext\";\r\n\r\nexport const FavsContext = createContext({\r\n  favs: [\r\n    {\r\n      idProducto: Number,\r\n    },\r\n  ],\r\n  addNewFav: (idProducto) => {},\r\n  removeFav: (idProducto) => {},\r\n});\r\n\r\nconst { Provider } = FavsContext;\r\n\r\nexport const FavsProvider = ({ children }) => {\r\n  const [favs, setFavs] = useState([]);\r\n  const { BASE_URL } = environment;\r\n  const { auth } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    async function fetchFavs() {\r\n      if (auth) {\r\n        try {\r\n          const res = await fetch(`${BASE_URL}/auth/favs/`, {\r\n            method: \"GET\",\r\n            headers: { Authorization: \"Bearer \" + auth.jwt },\r\n          });\r\n          if (res.status === 200) {\r\n            const prods = await res.json();\r\n            setFavs(prods);\r\n          } else {\r\n            setFavs([]);\r\n          }\r\n        } catch (err) {\r\n          console.error(err);\r\n        }\r\n      }\r\n    }\r\n    fetchFavs();\r\n  }, [auth, BASE_URL]);\r\n\r\n  const addNewFav = async (idProducto) => {\r\n    try {\r\n      const res = await fetch(`${BASE_URL}/auth/favs/agregar/${idProducto}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + auth.jwt,\r\n        },\r\n      });\r\n      if (res.status === 200) {\r\n        const prods = await res.json();\r\n        setFavs(prods);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const removeFav = async (idProducto) => {\r\n    try {\r\n      const res = await fetch(`${BASE_URL}/auth/favs/eliminar/${idProducto}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + auth.jwt,\r\n        },\r\n      });\r\n      if (res.status === 200) {\r\n        const prods = await res.json();\r\n        setFavs(prods);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return <Provider value={{ favs, addNewFav, removeFav }}>{children}</Provider>;\r\n};\r\n","import { useContext, useState } from \"react\";\r\nimport { FavsContext } from \"../../context/FavsContext\";\r\nimport \"./FavHeart.css\";\r\n\r\nconst FavHeart = ({\r\n  idProducto,\r\n  colorOn = \"var(--colorFav)\",\r\n  colorOff = \"var(--colorTres)\",\r\n  ...props\r\n}) => {\r\n  const { addNewFav, removeFav, favs } = useContext(FavsContext);\r\n  const [isOn, setOn] = useState(\r\n    favs?.find((fav) => fav.idProducto === idProducto) !== undefined\r\n  );\r\n\r\n  const handleClick = () => {\r\n    isOn ? removeFav(idProducto) : addNewFav(idProducto);\r\n    setOn(!isOn);\r\n  };\r\n\r\n  return (\r\n    <i\r\n      className={\"fav-heart \" + (isOn ? \"fas fa-heart\" : \"far fa-heart\")}\r\n      title=\"Añadir a favoritos\"\r\n      onClick={handleClick}\r\n      style={{ color: isOn ? colorOn : colorOff }}\r\n      {...props}\r\n    ></i>\r\n  );\r\n};\r\n\r\nexport default FavHeart;\r\n","import { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"./ModalMap.css\";\r\n\r\nfunction ModalMap({\r\n  ciudad,\r\n  direccion,\r\n  latitud,\r\n  longitud,\r\n  openMap,\r\n  handleMap,\r\n}) {\r\n  return (\r\n    openMap && (\r\n      <div className=\"modal-map\">\r\n        <div className=\"header-modal\">\r\n          <h3>{`${ciudad?.nombre}, ${ciudad?.pais}`}</h3>\r\n          <span onClick={handleMap}>\r\n            <i className=\"fas fa-times\"></i>\r\n          </span>\r\n        </div>\r\n        <MapContainer\r\n          center={[latitud, longitud]}\r\n          zoom={15}\r\n          scrollWheelZoom={true}\r\n        >\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          <Marker position={[latitud, longitud]}>\r\n            <Popup>\r\n              {direccion}. {ciudad?.nombre}, {ciudad?.pais}.\r\n            </Popup>\r\n          </Marker>\r\n        </MapContainer>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nexport default ModalMap;\r\n","import { useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"./../../context/AuthContext\";\r\nimport FavHeart from \"../FavHeart/FavHeart\";\r\nimport ModalMap from \"../ModalMap/ModalMap\";\r\nimport \"./Card.css\";\r\n\r\nfunction Card({ producto }) {\r\n  const {\r\n    idProducto,\r\n    imagenes,\r\n    categoria,\r\n    nombre,\r\n    ciudad,\r\n    descripcion,\r\n    caracteristicas,\r\n    latitud,\r\n    longitud,\r\n    direccion,\r\n    promedio,\r\n  } = producto;\r\n\r\n  const { auth } = useContext(AuthContext);\r\n  const [isActive, setActive] = useState(false);\r\n  const [openMap, setOpenMap] = useState(false);\r\n\r\n  const toggleClass = () => {\r\n    setActive(!isActive);\r\n  };\r\n\r\n  const handleMap = () => setOpenMap(!openMap);\r\n\r\n  return (\r\n    <article\r\n      className={`card ${!isActive ? \"ver-mas\" : \"ver-menos\"}`}\r\n      id={idProducto}\r\n    >\r\n      <div className=\"imagen\">\r\n        <img\r\n          src={imagenes[0]?.urlImagen}\r\n          alt={\"Foto del alojamiento: \" + nombre}\r\n        />\r\n        {auth?.roles?.includes(\"ROLE_USER\") && (\r\n          <FavHeart colorOff=\"white\" idProducto={idProducto} />\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"contenido\">\r\n        <div className=\"titulo\">\r\n          <div className=\"categoria\">\r\n            <p>{categoria.titulo.toUpperCase()}</p>\r\n            <h3>{nombre}</h3>\r\n          </div>\r\n          <div className=\"puntuacion\">\r\n            <span>{promedio ? promedio.toFixed(1) : \"-\"}</span>\r\n            <i className=\"fas fa-star\"></i>\r\n          </div>\r\n        </div>\r\n        <p className=\"ubicacion\">\r\n          <i className=\"fas fa-map-marker-alt\"></i>\r\n          {ciudad.nombre}. <span onClick={handleMap}>MOSTRAR EN EL MAPA</span>{\" \"}\r\n        </p>\r\n        <ul className=\"ico-caracteristicas\">\r\n          {caracteristicas?.map((caract, index) => (\r\n            <li key={index} title={caract.nombre}>\r\n              <i className={caract.urlIcono}></i>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n\r\n        <p className={`descripcion ${!isActive ? \"ver-mas\" : \"ver-menos\"}`}>\r\n          {descripcion}\r\n        </p>\r\n        <p className=\"btn-ver\" onClick={toggleClass}>\r\n          {!isActive ? \"Ver más...\" : \"Ver menos...\"}\r\n        </p>\r\n\r\n        <Link\r\n          to={`/producto/${idProducto}`}\r\n          className=\"btn btn-primario ver-detalle\"\r\n        >\r\n          Ver detalle\r\n        </Link>\r\n      </div>\r\n      <ModalMap\r\n        openMap={openMap}\r\n        handleMap={handleMap}\r\n        nombre={nombre}\r\n        latitud={latitud}\r\n        longitud={longitud}\r\n        ciudad={ciudad}\r\n        direccion={direccion}\r\n      />\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import Card from \"../Card/Card\";\r\nimport \"./CardList.css\";\r\n\r\nfunction CardList({ productos, titulo, ...props }) {\r\n\r\n  return (\r\n    <section className=\"card-list\" {...props}>\r\n      <h2>{titulo}</h2>\r\n      <ul>\r\n        {productos?.map((prod) => (\r\n          <Card key={prod.idProducto} producto={prod} />\r\n        ))}\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default CardList;\r\n","import { useContext } from \"react\";\r\nimport { FiltroContext } from \"../../context/FiltroContext\";\r\nimport \"./Paginador.css\";\r\n\r\nfunction Paginador({ page, totalPages, handlePage }) {\r\n  const { hayFiltros } = useContext(FiltroContext);\r\n\r\n  let btnPages = [];\r\n  for (let i = 0; i < totalPages; i++) {\r\n    btnPages.push(i);\r\n  }\r\n\r\n  return (\r\n    <div className=\"btn-pages\">\r\n      {!hayFiltros &&\r\n        btnPages?.map((num) => (\r\n          <p\r\n            key={num}\r\n            className={`btn btn-secundario btn-pag ${page === num && \"active\"}`}\r\n            onClick={() => handlePage(num)}\r\n          >\r\n            {num + 1}\r\n          </p>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Paginador;\r\n","import LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport Buscador from \"../../components/Buscador/Buscador\";\r\nimport CategoriaList from \"../../components/CategoriaList/CategoriaList\";\r\nimport CardList from \"../../components/CardList/CardList\";\r\nimport Paginador from \"../../components/Paginador/Paginador\";\r\nimport { FiltroContext } from \"../../context/FiltroContext\";\r\nimport Error from \"../../components/Error/Error\";\r\nimport useFetch from \"../../customHooks/useFetch\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { environment } from \"../../constants\";\r\nimport LoadingBar from \"../../components/LoadingBar/LoadingBar\";\r\n\r\nfunction HomePage() {\r\n  const { BASE_URL, PRODUCTOS_ENDPOINT } = environment;\r\n  const { filtros: { porCategoria }, hayFiltros, resultados, newResultados } =\r\n    useContext(FiltroContext);\r\n  const [page, setPage] = useState(0);\r\n\r\n  // Cantidad de productos por página\r\n  const size = 4;\r\n  const {\r\n    data: productos,\r\n    isLoading,\r\n    error,\r\n  } = useFetch(\r\n    `${BASE_URL}${PRODUCTOS_ENDPOINT}paged?page=${page}&size=${size}&sort=idProducto,asc`\r\n  );\r\n  const totalPages = productos?.totalPages;\r\n\r\n  const handlePage = (num) => setPage(num);\r\n\r\n  useEffect(() => {\r\n    // cuando no hay filtro, carga todos los productos\r\n    if (!hayFiltros) {\r\n      newResultados(productos?.content, null);\r\n    }\r\n  }, [hayFiltros, newResultados, productos]);\r\n\r\n  return (\r\n    <LayoutGeneral>\r\n      <Buscador />\r\n      <CategoriaList title=\"Buscar por categoría\" />\r\n\r\n      {error ? (\r\n        <Error info=\"Error al cargar los productos\" />\r\n      ) : (\r\n        <>\r\n          <CardList\r\n            productos={resultados}\r\n            titulo={\r\n              porCategoria ? `Buscando ${porCategoria}` : \"Recomendaciones\"\r\n            }\r\n          />\r\n          {isLoading && <LoadingBar />}\r\n        </>\r\n      )}\r\n\r\n      <Paginador page={page} totalPages={totalPages} handlePage={handlePage} />\r\n    </LayoutGeneral>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Formik, Form, useField } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { environment } from \"../../constants\";\r\nimport \"./Login.css\";\r\n\r\nconst TextInput = ({ label, ...props }) => {\r\n  // useField() returns [formik.getFieldProps(), formik.getFieldMeta()]\r\n  const [field, meta] = useField(props);\r\n  const isBad = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label className=\"label-required\" htmlFor={props.id}>\r\n        {label}\r\n      </label>\r\n      <input\r\n        className={\"text-input input\" + (isBad ? \" input-feedback\" : \"\")}\r\n        {...field}\r\n        {...props}\r\n      />\r\n\r\n      {isBad && <small className=\"small-feedback\">{meta.error}</small>}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PasswordInput = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  const [showPass, setShowPass] = useState(false);\r\n  const isBad = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div className=\"form-group form-group-pass\">\r\n      <label className=\"label-required\" htmlFor={props.id}>\r\n        {label}\r\n      </label>\r\n      <input\r\n        className={\"text-input input\" + (isBad ? \" input-feedback\" : \"\")}\r\n        {...field}\r\n        {...props}\r\n        type={showPass ? \"text\" : \"password\"}\r\n      />\r\n      <i\r\n        className={\r\n          \"show-pass-icon \" + (showPass ? \"far fa-eye\" : \"far fa-eye-slash\")\r\n        }\r\n        onClick={() => setShowPass(!showPass)}\r\n        title=\"Mostrar contraseña\"\r\n      ></i>\r\n\r\n      {isBad && <small className=\"small-feedback\">{meta.error}</small>}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Login = () => {\r\n  const { BASE_URL } = environment;\r\n  const { authenticate } = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const [badRequestMsg, setBadRequestMsg] = useState(\"\");\r\n  let forwardUrl = \"/\";\r\n  if (history.location.state?.loginReserva !== undefined) {\r\n    forwardUrl = history.location.state?.destination;\r\n  }\r\n\r\n  return (\r\n    <div className=\"contenedor-login\">\r\n      {history.location.state?.loginReserva !== undefined && (\r\n        <div className=\"mje-reserva\">\r\n          <i className=\"fas fa-exclamation-circle\"></i> Para realizar una\r\n          reserva necesita estar logueado\r\n        </div>\r\n      )}\r\n      <Formik\r\n        initialValues={{\r\n          password: \"\",\r\n          email: \"\",\r\n        }}\r\n        validationSchema={Yup.object({\r\n          email: Yup.string()\r\n            .email(\"El email es inválido\")\r\n            .required(\"Este campo es obligatorio\"),\r\n          password: Yup.string()\r\n            .min(6, \"La contraseña debe tener más de 6 caracteres\")\r\n            .required(\"Este campo es obligatorio\"),\r\n        })}\r\n        onSubmit={async (values) => {\r\n          // Valores capturados del form\r\n          const usuario = {\r\n            email: values.email,\r\n            contrasena: values.password,\r\n          };\r\n\r\n          const settings = {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(usuario),\r\n          };\r\n\r\n          try {\r\n            // POST con los datos del usuario\r\n            const res = await fetch(`${BASE_URL}/auth/login`, settings);\r\n            const data = await res.json();\r\n            if (data.jwt) {\r\n              // Si devuelve un token lo guardo en Storage y Context\r\n              authenticate(data);\r\n              // Redirección a Home\r\n              history.push(forwardUrl);\r\n            } else {\r\n              // Feedback de que el usuario no existe\r\n              setBadRequestMsg(\r\n                \"Sus credenciales son inválidas. Por favor, vuelva a intentarlo\"\r\n              );\r\n            }\r\n          } catch (err) {\r\n            setBadRequestMsg(\"Error al intentar iniciar sesión\")\r\n            console.error(err);\r\n          }\r\n        }}\r\n      >\r\n        <Form className=\"form-login\">\r\n          <h1>Iniciar sesión</h1>\r\n          <TextInput\r\n            label=\"Correo Electrónico\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Ingrese su correo electrónico\"\r\n          />\r\n          <PasswordInput\r\n            label=\"Contraseña\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Ingrese su contraseña\"\r\n          />\r\n\r\n          {badRequestMsg && (\r\n            // si badRequestMsg != \"\", hay msg de error del back\r\n            <p className=\"form-feedback\">{badRequestMsg}</p>\r\n          )}\r\n\r\n          <button className=\"btn btn-primario btn-sm\" type=\"submit\">\r\n            Ingresar\r\n          </button>\r\n\r\n          <p className=\"text-muted\">\r\n            ¿Aún no tienes cuenta?{\" \"}\r\n            <Link to=\"/registro\" className=\"link\">\r\n              Regístrate\r\n            </Link>\r\n          </p>\r\n        </Form>\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport Login from \"../../components/Login/Login\";\r\n\r\nfunction LoginPage() {\r\n    return ( \r\n        <LayoutGeneral>\r\n            <Login />\r\n        </LayoutGeneral>\r\n     );\r\n}\r\n \r\nexport default LoginPage;\r\n","import { Link } from \"react-router-dom\";\r\nimport \"./DeadEnd.css\";\r\n\r\nfunction DeadEnd({ titulo, desc, to = \"/\", btnText = \"Ok\" }) {\r\n  return (\r\n    <div className=\"cartel-lista-vacia\">\r\n      <div className=\"contenedor\">\r\n        <i className=\"fas fa-ban\"></i>\r\n        <div className=\"cartel-lista-vacia__texto\">\r\n          {titulo && <p className=\"cartel-lista-vacia__titulo\">{titulo}</p>}\r\n          {desc && <p className=\"cartel-lista-vacia__desc\">{desc}</p>}\r\n        </div>\r\n        <Link to={to} className=\"btn btn-primario btn-sm\">\r\n          {btnText}\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DeadEnd;\r\n","import DeadEnd from \"../../components/DeadEnd/DeadEnd\";\r\nimport LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\n\r\nfunction NotFoundPage() {\r\n  return (\r\n    <LayoutGeneral>\r\n      <DeadEnd\r\n        titulo=\"404\"\r\n        desc=\"Ups! Parece que esta página no existe!\"\r\n        btnText=\"Volver al Home\"\r\n      />\r\n    </LayoutGeneral>\r\n  );\r\n}\r\n\r\nexport default NotFoundPage;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Formik, Form, useField } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { environment } from \"../../constants\";\r\nimport \"./Registro.css\";\r\n\r\nconst TextInput = ({ label, ...props }) => {\r\n  // useField() returns [formik.getFieldProps(), formik.getFieldMeta()]\r\n  const [field, meta] = useField(props);\r\n  const isBad = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label className=\"label-required\" htmlFor={props.id}>\r\n        {label}\r\n      </label>\r\n      <input\r\n        className={\"text-input input\" + (isBad ? \" input-feedback\" : \"\")}\r\n        {...field}\r\n        {...props}\r\n      />\r\n\r\n      {isBad && <small className=\"small-feedback\">{meta.error}</small>}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PasswordInput = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  const [showPass, setShowPass] = useState(false);\r\n  const isBad = meta.touched && meta.error;\r\n\r\n  return (\r\n    <div className=\"form-group form-group-pass\">\r\n      <label className=\"label-required\" htmlFor={props.id}>\r\n        {label}\r\n      </label>\r\n      <input\r\n        className={\"text-input input\" + (isBad ? \" input-feedback\" : \"\")}\r\n        {...field}\r\n        {...props}\r\n        type={showPass ? \"text\" : \"password\"}\r\n      />\r\n      <i\r\n        className={\r\n          \"show-pass-icon \" + (showPass ? \"far fa-eye\" : \"far fa-eye-slash\")\r\n        }\r\n        onClick={() => setShowPass(!showPass)}\r\n        title=\"Mostrar contraseña\"\r\n      ></i>\r\n\r\n      {isBad && <small className=\"small-feedback\">{meta.error}</small>}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction Registro() {\r\n  const { BASE_URL } = environment;\r\n  const { authenticate } = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const [badRequestMsg, setBadRequestMsg] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"contenedor-registro\">\r\n      <Formik\r\n        initialValues={{\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          repassword: \"\",\r\n        }}\r\n        validationSchema={Yup.object({\r\n          firstName: Yup.string().required(\"Este campo es obligatorio\"),\r\n          lastName: Yup.string().required(\"Este campo es obligatorio\"),\r\n          email: Yup.string()\r\n            .email(\"El email es inválido\")\r\n            .required(\"Este campo es obligatorio\"),\r\n          password: Yup.string()\r\n            .min(6, \"La contraseña debe tener más de 6 caracteres\")\r\n            .required(\"Este campo es obligatorio\"),\r\n          repassword: Yup.string()\r\n            .min(6, \"La contraseña debe tener más de 6 caracteres\")\r\n            .required(\"Este campo es obligatorio\")\r\n            .oneOf(\r\n              [Yup.ref(\"password\"), null],\r\n              \"Las contraseñas deben ser iguales\"\r\n            ),\r\n        })}\r\n        onSubmit={async (values) => {\r\n          // Valores capturados del form\r\n          const usuario = {\r\n            nombre: values.firstName,\r\n            apellido: values.lastName,\r\n            email: values.email,\r\n            contrasena: values.password,\r\n          };\r\n\r\n          const settings = {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(usuario),\r\n          };\r\n\r\n          try {\r\n            // POST con los datos del usuario\r\n            const res = await fetch(`${BASE_URL}/auth/nuevoUsuario`, settings);\r\n            const data = await res.json();\r\n\r\n            if (data.jwt) {\r\n              // Si devuelve un token lo guardo en Storage y Context\r\n              authenticate(data);\r\n              // Redirección a Home\r\n              history.push(\"/registro-exitoso\");\r\n            } else {\r\n              // Feedback de error\r\n              setBadRequestMsg(data.message);\r\n            }\r\n          } catch (err) {\r\n            setBadRequestMsg(\"Error al intentar crear la cuenta\");\r\n            console.error(err);\r\n          }\r\n        }}\r\n      >\r\n        <Form className=\"form-registro\">\r\n          <h1>Crear cuenta</h1>\r\n\r\n          <div className=\"double-form-group\">\r\n            <TextInput\r\n              label=\"Nombre\"\r\n              name=\"firstName\"\r\n              type=\"text\"\r\n              id=\"firstName\"\r\n              placeholder=\"Ingrese su nombre\"\r\n            />\r\n            <TextInput\r\n              label=\"Apellido\"\r\n              name=\"lastName\"\r\n              type=\"text\"\r\n              id=\"lastName\"\r\n              placeholder=\"Ingrese su apellido\"\r\n            />\r\n          </div>\r\n          <TextInput\r\n            label=\"Correo Electrónico\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Ingrese su correo electrónico\"\r\n          />\r\n          <PasswordInput\r\n            label=\"Contraseña\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Ingrese su contraseña\"\r\n          />\r\n          <TextInput\r\n            label=\"Confirmar contraseña\"\r\n            name=\"repassword\"\r\n            type=\"password\"\r\n            id=\"repassword\"\r\n            placeholder=\"Repita su contraseña\"\r\n          />\r\n\r\n          {badRequestMsg && (\r\n            // si badRequestMsg != \"\", hay msg de error del back\r\n            <p className=\"form-feedback\">{badRequestMsg}</p>\r\n          )}\r\n\r\n          <button className=\"btn btn-primario btn-sm\" type=\"submit\">\r\n            Registrarse\r\n          </button>\r\n\r\n          <p className=\"text-muted\">\r\n            ¿Ya tienes una cuenta?{\" \"}\r\n            <Link to=\"/login\" className=\"link\">\r\n              Iniciar sesión\r\n            </Link>\r\n          </p>\r\n        </Form>\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Registro;\r\n","import LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport Registro from \"../../components/Registro/Registro\";\r\n\r\nfunction RegistroPage() {\r\n    return ( \r\n        <LayoutGeneral>\r\n            <Registro />\r\n        </LayoutGeneral>\r\n     );\r\n}\r\n \r\nexport default RegistroPage;","import { useHistory } from \"react-router-dom\";\r\nimport \"./Titulo.css\";\r\n\r\nfunction Titulo({ titulo }) {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div className=\"background-titulo\">\r\n      <div style={{ padding: \"5px 0\" }}>\r\n        <h2 className=\"txt-titulo\">{titulo}</h2>\r\n      </div>\r\n      <button\r\n        onClick={() => history.goBack()}\r\n        style={{ background: \"none\", border: \"none\", color: \"#FFF\" }}\r\n      >\r\n        <i className=\"fas fa-chevron-left\" title=\"Volver\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Titulo;\r\n","import LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport CardList from \"../../components/CardList/CardList\";\r\nimport { FavsContext } from \"../../context/FavsContext\";\r\nimport { useContext } from \"react\";\r\nimport Titulo from \"../../components/Titulo/Titulo\";\r\nimport DeadEnd from \"../../components/DeadEnd/DeadEnd\";\r\nimport { Redirect, useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nfunction MisFavoritosPage() {\r\n  const { favs } = useContext(FavsContext);\r\n  const { auth } = useContext(AuthContext);\r\n  const { id_usuario } = useParams();\r\n\r\n  if (!auth) return <Redirect to=\"/\" />;\r\n  if (auth.idUsuario !== Number(id_usuario)) return <Redirect to=\"/\" />;\r\n\r\n  return (\r\n    <LayoutGeneral>\r\n      {favs.length === 0 ? (\r\n        <DeadEnd desc=\"Parece que aún no tienes ningún producto favorito\" />\r\n      ) : (\r\n        <>\r\n          <Titulo titulo=\"Mis favoritos\" />\r\n          <CardList productos={favs} />\r\n        </>\r\n      )}\r\n    </LayoutGeneral>\r\n  );\r\n}\r\n\r\nexport default MisFavoritosPage;\r\n","export function getDaysBetweenTwoDates(start, end) {\r\n  const arr = [];\r\n  for (\r\n    let dt = getDateFromString(start);\r\n    dt <= getDateFromString(end);\r\n    dt.setDate(dt.getDate() + 1)\r\n  ) {\r\n    arr.push(dt.toLocaleDateString());\r\n  }\r\n  return arr;\r\n}\r\n\r\nexport function getFechasOcupadasFromReservas(reservas) {\r\n  const fechasOcupadas = [];\r\n  for (let i = 0; i < reservas.length; i++) {\r\n    fechasOcupadas.push(\r\n      getDaysBetweenTwoDates(reservas[i].fechaInicio, reservas[i].fechaFin)\r\n    );\r\n  }\r\n  return fechasOcupadas.flat();\r\n}\r\n\r\nexport function isDateInArray(target, dateArray = []) {\r\n  for (let i = 0; i < dateArray.length; i++) {\r\n    if (dateArray[i] === target) return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function isDateRangeOccupied(start, end, occupied = []) {\r\n  return occupied.some((dt) => start <= dt && end >= dt);\r\n}\r\n\r\n// format is ISO standard (yyyy-MM-ddT...) that backend returns in JSON\r\nexport function getDateFromString(isoString) {\r\n  const dateObject = new Date(\r\n    isoString.substring(0, 4), // yyyy\r\n    Number(isoString.substring(5, 7)) - 1, // MM\r\n    isoString.substring(8, 10) // dd\r\n  );\r\n  return dateObject;\r\n}\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { environment } from \"../../constants\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport \"./CardReserva.css\";\r\nimport { getDateFromString } from \"../../utils/dates\";\r\n\r\nfunction CardReserva({ reserva }) {\r\n  const { BASE_URL, PUNTUACIONES_ENDPOINT } = environment;\r\n  const {\r\n    fechaInicio,\r\n    fechaFin,\r\n    idReserva,\r\n    producto: { idProducto, categoria, nombre, imagenes, ciudad },\r\n    puntaje,\r\n  } = reserva;\r\n\r\n  const { auth } = useContext(AuthContext);\r\n  const [stars, setStars] = useState(0);\r\n\r\n  const fetchPuntaje = async (endpoint, metodo, codigo, puntuacion) => {\r\n    try {\r\n      const res = await fetch(\r\n        `${BASE_URL}${PUNTUACIONES_ENDPOINT}${endpoint}`,\r\n        {\r\n          method: metodo,\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + auth.jwt,\r\n          },\r\n          body: JSON.stringify(puntuacion),\r\n        }\r\n      );\r\n      if (res.status !== codigo) {\r\n        throw new Error();\r\n      } else {\r\n        setStars(puntuacion.puntuacion);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (puntaje !== undefined) {\r\n      setStars(puntaje.puntuacion);\r\n    }\r\n  }, [idProducto, setStars, puntaje]);\r\n\r\n  const handlePuntaje = (punt) => {\r\n    const puntuacion = {\r\n      puntuacion: punt,\r\n      usuario: { idUsuario: auth.idUsuario },\r\n      producto: { idProducto: idProducto },\r\n    };\r\n\r\n    if (stars === 0) {\r\n      fetchPuntaje(idReserva, \"POST\", 201, puntuacion);\r\n    } else {\r\n      puntuacion.idPuntuacion = puntaje.idPuntuacion;\r\n      fetchPuntaje(puntaje.idPuntuacion, \"PUT\", 200, puntuacion);\r\n    }\r\n    setStars(punt);\r\n  };\r\n\r\n  const startDate = getDateFromString(fechaInicio);\r\n  const endDate = getDateFromString(fechaFin);\r\n\r\n  return (\r\n    <article className=\"card-reserva\" id={idReserva}>\r\n      <div className=\"imagen\">\r\n        <img\r\n          src={imagenes[0]?.urlImagen}\r\n          alt={\"Foto del alojamiento: \" + nombre}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"contenido\">\r\n        <div className=\"titulo\">\r\n          <div className=\"categoria\">\r\n            <p>{categoria.titulo.toUpperCase()}</p>\r\n            <h3>{nombre}</h3>\r\n          </div>\r\n        </div>\r\n        <p className=\"ubicacion\">\r\n          <i className=\"fas fa-map-marker-alt\"></i>\r\n          {ciudad.nombre}\r\n        </p>\r\n\r\n        <div className=\"fechas-reserva\">\r\n          <div className=\"check-in\">\r\n            <p>Check in</p>\r\n            <p>{startDate.toLocaleDateString()}</p>\r\n          </div>\r\n          <div className=\"check-out\">\r\n            <p>Check out</p>\r\n            <p>{endDate.toLocaleDateString()}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <Link\r\n          to={`/producto/${idProducto}`}\r\n          className=\"btn btn-primario ver-detalle\"\r\n        >\r\n          Ver producto\r\n        </Link>\r\n\r\n        <div>\r\n          {new Date().getTime() > endDate.getTime() && (\r\n            <div className=\"puntuacion-reserva\">\r\n              <p>¡Dejanos tu opinión!</p>\r\n\r\n              <div className=\"puntuacion-estrellas\" id={puntaje?.idPuntuacion}>\r\n                {[1, 2, 3, 4, 5].map((n) => (\r\n                  <i\r\n                    className={`${n <= stars ? \"fas\" : \"far\"} fa-star`}\r\n                    key={n}\r\n                    data-testid={\"puntuacion\"+n}\r\n                    onClick={() => handlePuntaje(n)}\r\n                  ></i>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default CardReserva;\r\n","import { useContext } from \"react\";\r\nimport CardReserva from \"./CardReserva\";\r\nimport useFetch from \"../../customHooks/useFetch\";\r\nimport { environment } from \"../../constants\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport \"./CardReservaList.css\";\r\n\r\nfunction CardReservaList({ reservas, titulo, ...props }) {\r\n  const { BASE_URL, PUNTUACIONES_ENDPOINT } = environment;\r\n  const { auth } = useContext(AuthContext);\r\n  const { data: puntajes } = useFetch(\r\n    `${BASE_URL}${PUNTUACIONES_ENDPOINT}${auth.idUsuario}`\r\n  );\r\n\r\n  reservas.forEach((res) => {\r\n    puntajes?.forEach((punt) => {\r\n      if (res.producto.idProducto === punt.producto.idProducto) {\r\n        res.puntaje = punt;\r\n      }\r\n    });\r\n  });\r\n\r\n  return (\r\n    <section className=\"card-reserva-list\" {...props}>\r\n      <h2>{titulo}</h2>\r\n      <ul>\r\n        {[...reservas]\r\n          .sort((a, b) => {\r\n            if (a.fechaInicio < b.fechaInicio) return 1;\r\n            else if (a.fechaInicio > b.fechaInicio) return -1;\r\n            else return 0;\r\n          })\r\n          .map((res) => (\r\n            <CardReserva key={res.idReserva} reserva={res} />\r\n          ))}\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default CardReservaList;\r\n","import LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport LoadingBar from \"../../components/LoadingBar/LoadingBar\";\r\nimport { environment } from \"../../constants\";\r\nimport useFetch from \"../../customHooks/useFetch\";\r\nimport Titulo from \"../../components/Titulo/Titulo\";\r\nimport CardReservaList from \"../../components/CardReservaList/CardReservaList\";\r\nimport DeadEnd from \"../../components/DeadEnd/DeadEnd\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Redirect, useParams } from \"react-router-dom\";\r\n\r\nfunction MisReservasPage() {\r\n  const { auth } = useContext(AuthContext);\r\n  const { id_usuario } = useParams();\r\n  const { BASE_URL, RESERVAS_ENDPOINT } = environment;\r\n  const {\r\n    data: reservas,\r\n    error,\r\n    isLoading,\r\n  } = useFetch(`${BASE_URL}${RESERVAS_ENDPOINT}porUsuario/${auth?.idUsuario}`);\r\n\r\n  if (!auth) return <Redirect to=\"/\" />;\r\n  if (auth.idUsuario !== Number(id_usuario)) return <Redirect to=\"/\" />;\r\n\r\n  return (\r\n    <LayoutGeneral>\r\n      {isLoading ? (\r\n        <LoadingBar />\r\n      ) : error || reservas.length === 0 ? (\r\n        <DeadEnd desc=\"Aún no tienes ninguna reserva\" />\r\n      ) : (\r\n        <>\r\n          <Titulo titulo=\"Mis reservas\" />\r\n          <CardReservaList reservas={reservas} />\r\n        </>\r\n      )}\r\n    </LayoutGeneral>\r\n  );\r\n}\r\n\r\nexport default MisReservasPage;\r\n","import { createContext, useState } from 'react';\r\n\r\nexport const ProdContext = createContext({\r\n    prod: null,\r\n    reservas: [null],\r\n    newProd: (producto, reservas) => {},\r\n});\r\n\r\nconst { Provider } = ProdContext;\r\n\r\nexport const ProdProvider = ({ children }) => {\r\n    const [prod, setProd] = useState(null); \r\n    const [reservas, setReservas] = useState(null);\r\n\r\n    const newProd = (producto, reservas) => {\r\n        setProd(producto);\r\n        setReservas(reservas);\r\n    }\r\n\r\n    return <Provider value={{ prod, reservas, newProd }}>{children}</Provider>\r\n}\r\n","import { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ProdContext } from \"./../../context/ProdContext\";\r\nimport './ProductoHeader.css';\r\n\r\nfunction ProductoHeader() {\r\n\r\n    const { prod } = useContext(ProdContext);\r\n    const { categoria, nombre } = prod;\r\n\r\n    const history = useHistory();\r\n\r\n    return ( \r\n        <div className='producto-header'>\r\n            <div style={{padding:'5px 0'}}>\r\n                <h4 className='producto-header-categoria'>{categoria?.titulo}</h4>\r\n                <h2 className='producto-header-titulo'>{nombre}</h2>\r\n            </div>\r\n            <button onClick={() => history.goBack()} style={{background: 'none', border: 'none', color:'#FFF'}}><i className=\"fas fa-chevron-left\" title=\"Volver\"></i></button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default ProductoHeader;\r\n","import { useContext } from \"react\";\r\nimport { ProdContext } from \"./../../context/ProdContext\";\r\nimport \"./ProductoUbicacion.css\";\r\n\r\nfunction ProductoUbicacion() {\r\n  const { prod } = useContext(ProdContext);\r\n\r\n  return (\r\n    <div className=\"producto-ubicacion\">\r\n      <div className=\"lugar\">\r\n        <i className=\"fas fa-map-marker-alt\"></i>\r\n        <p>{`${prod?.ciudad?.nombre}, ${prod?.ciudad?.pais}`}</p>\r\n      </div>\r\n\r\n      <div className=\"puntuacion-prod\">\r\n        {[1, 2, 3, 4, 5].map((n) => (\r\n          <i\r\n            className={`${n <= prod?.promedio ? \"fas\" : \"far\"} fa-star`}\r\n            key={n}\r\n          ></i>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductoUbicacion;\r\n","import React from 'react';\r\nimport \"./ProductoImagenesGaleria.css\";\r\nimport ImageGallery from \"react-image-gallery\";\r\n\r\nfunction renderRightNav(onClick, disabled) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className=\"image-gallery-custom-right-nav\"\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n      aria-label=\"Next Slide\"\r\n    >\r\n      <i className=\"fas fa-chevron-right\"></i>\r\n    </button>\r\n  )\r\n}\r\n\r\nfunction renderLeftNav(onClick, disabled) {\r\n  return <button\r\n      type=\"button\"\r\n      className=\"image-gallery-custom-left-nav\"\r\n      disabled={disabled}\r\n      onClick={onClick}\r\n      aria-label=\"Previous Slide\"\r\n    >\r\n      <i className=\"fas fa-chevron-left\"></i>\r\n  </button>\r\n}\r\n\r\nfunction ProductoImagenesGaleria({ imgList, onClose }) {\r\n  \r\n  const props = {\r\n    items: imgList.map(({ img, titulo }) => (\r\n      { \r\n        original: img, \r\n        thumbnail: img,\r\n        originalHeight: 360,\r\n        originalWidth: 720,\r\n        thumbnailHeight: 90,\r\n        thumbnailWidth: 148,\r\n        originalAlt: titulo,\r\n        thumbnailAlt: titulo,\r\n      }\r\n    )),\r\n    slideInterval: 3450,\r\n    showIndex: true,\r\n    showThumbnails: true,\r\n    showFullscreenButton: false,\r\n    showPlayButton: false,\r\n    \r\n    renderLeftNav: renderLeftNav,\r\n    renderRightNav: renderRightNav\r\n  }\r\n\r\n  return <div className=\"productos-imagenes-galeria\">\r\n    <button \r\n      type=\"button\" \r\n      className=\"productos-imagenes-galeria__cerrar\"\r\n      onClick={onClose}\r\n      >\r\n      <i className=\"fas fa-times\"></i>\r\n    </button>\r\n\r\n    <ImageGallery {...props} />\r\n  </div>\r\n}\r\n\r\nexport default ProductoImagenesGaleria;\r\n","import React from 'react';\r\nimport \"./ProductoImagenesGaleriaMini.css\";\r\nimport ImageGallery from \"react-image-gallery\";\r\n\r\nfunction ProductoImagenesGaleriaMini({ imgList }) {\r\n\r\n  const props = {\r\n    items: imgList.map(({ img, titulo }) => (\r\n      { \r\n        original: img, \r\n        thumbnail: img,\r\n        originalHeight: 320,\r\n        originalWidth: 640,\r\n        thumbnailHeight: 90,\r\n        thumbnailWidth: 150,\r\n        originalAlt: titulo,\r\n        thumbnailAlt: titulo,\r\n      }\r\n    )),\r\n    autoPlay: true,\r\n    slideInterval: 3000,\r\n    showIndex: true,\r\n    showFullscreenButton: false,\r\n    showNav: false,\r\n    showThumbnails: false,\r\n    showPlayButton: false\r\n    \r\n  }\r\n\r\n  return <div className=\"prod-img-gal-mini\">\r\n\r\n    <ImageGallery {...props} />\r\n  </div>\r\n}\r\n\r\nexport default ProductoImagenesGaleriaMini;\r\n","import { useEffect, useState, useRef, useContext } from \"react\";\r\nimport { ProdContext } from \"./../../context/ProdContext\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport ProductoImagenesGaleria from \"./ProductoImagenesGaleria\";\r\nimport \"./ProductoImagenes.css\";\r\nimport ProductoImagenesGaleriaMini from \"./ProductoImagenesGaleriaMini\";\r\n\r\nfunction ProductoImagenes() {\r\n  const { prod } = useContext(ProdContext);\r\n  const imgList = prod.imagenes?.map((imagen) => ({\r\n    img: imagen.urlImagen,\r\n    titulo: imagen.titulo,\r\n  }));\r\n\r\n  const [verMas, setVerMas] = useState(false);\r\n  // isMediaAboveTablet es true para anchos de pantalla mayores a 768\r\n  const isMediaAboveTablet = useMediaQuery({ minWidth: 768 });\r\n  const galeriaContainerRef = useRef();\r\n\r\n  // si hago click fuera de la galería, se cierra\r\n  const handleClickOutside = (e) => {\r\n    if (galeriaContainerRef.current.contains(e.target)) {\r\n      return; // click adentro\r\n    }\r\n    setVerMas(false); // click afuera\r\n  };\r\n\r\n  // agrego el listener solamente cuando es necesario, sino lo elimino\r\n  useEffect(() => {\r\n    if (verMas) {\r\n      document.addEventListener(\"mouseup\", handleClickOutside);\r\n      document.querySelector(\"body\").style.overflow = \"hidden\";\r\n    } else {\r\n      document.removeEventListener(\"mouseup\", handleClickOutside);\r\n      document.querySelector(\"body\").style.overflow = \"auto\";\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mouseup\", handleClickOutside);\r\n    };\r\n  }, [verMas]);\r\n\r\n  if (!isMediaAboveTablet && verMas) {\r\n    setVerMas(false);\r\n  }\r\n  \r\n  return (\r\n    <div className=\"producto-imagenes\">\r\n      {isMediaAboveTablet ? (\r\n        <>\r\n          <div className=\"producto-imagenes__grid\">\r\n            {imgList.slice(0, 4).map(({ img, titulo }, idx) => (\r\n              <div key={idx} className=\"producto-imagenes__grid-cont\">\r\n                <img src={img} alt={titulo} />\r\n              </div>\r\n            ))}\r\n\r\n            <div className=\"producto-imagenes__grid-cont\">\r\n              <img src={imgList[4]?.img} alt=\"Foto del inmueble\" />\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn producto-imagenes__ver-mas\"\r\n              onClick={() => setVerMas(!verMas)}\r\n            >\r\n              Ver más\r\n            </button>\r\n          </div>\r\n\r\n          {verMas && (\r\n            <div className=\"galeria-fullscreen-container\">\r\n              <div\r\n                ref={galeriaContainerRef}\r\n                className=\"producto-imagenes__galeria\"\r\n              >\r\n                <ProductoImagenesGaleria\r\n                  imgList={imgList}\r\n                  onClose={() => setVerMas(false)}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        /* Implementación distinta para tablet y mobile \r\n      (son muy distintos, justifica un componente distinto) */\r\n        <div className=\"producto-imagenes__galeria-mini\">\r\n          <ProductoImagenesGaleriaMini imgList={imgList} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductoImagenes;\r\n","import { useContext } from \"react\";\r\nimport { ProdContext } from \"./../../context/ProdContext\";\r\nimport './ProductoDescripcion.css';\r\n\r\nfunction ProductoDescripcion() {\r\n\r\n    const { prod } = useContext(ProdContext);\r\n\r\n    return ( \r\n        <div className='producto-descripcion'>\r\n            <h2>{prod?.nombre}</h2>\r\n            <p>{prod?.descripcion}</p>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default ProductoDescripcion;\r\n","import { useContext } from \"react\";\r\nimport { ProdContext } from \"./../../context/ProdContext\";\r\nimport './ProductoCaracteristicas.css';\r\n\r\nfunction ProductoCaracteristicas() {\r\n\r\n    const { prod } = useContext(ProdContext);\r\n\r\n    return ( \r\n        <div className='producto-caracteristicas'>\r\n            <h2>¿Qué ofrece este lugar?</h2>\r\n            <ul className='caracteristicas'>\r\n                {\r\n                    prod.caracteristicas.length > 0 ?\r\n                        (prod.caracteristicas?.map((caract, index) => <li key={index}><i className={caract.urlIcono}></i>{caract.nombre}</li>))\r\n                    : <p>{\"[Sin información]\"}</p>\r\n                    }\r\n           </ul>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default ProductoCaracteristicas;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"./../../context/AuthContext\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport \"./ProductoDisponibilidad.css\";\r\nimport { FiltroContext } from \"../../context/FiltroContext\";\r\nimport { ProdContext } from \"../../context/ProdContext\";\r\nimport {\r\n  getFechasOcupadasFromReservas,\r\n  isDateInArray,\r\n} from \"../../utils/dates\";\r\n\r\nfunction ProductoDisponibilidad({ id }) {\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n\r\n  const handleResize = () => setWidth(window.innerWidth);\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  const {\r\n    filtros: { porFechaInicio, porFechaFin },\r\n  } = useContext(FiltroContext);\r\n  const { auth } = useContext(AuthContext);\r\n  const { reservas } = useContext(ProdContext);\r\n  const excludedDates = reservas ? getFechasOcupadasFromReservas(reservas) : [];\r\n\r\n  return (\r\n    <div className=\"producto-disponibilidad\">\r\n      <h2>Fechas disponibles</h2>\r\n      <div className=\"contenedor-disponibilidad\">\r\n        <div className=\"disponibilidad__calendario\">\r\n          <DatePicker\r\n            monthsShown={width > 490 ? 2 : 1}\r\n            startDate={porFechaInicio}\r\n            endDate={porFechaFin}\r\n            minDate={new Date()}\r\n            filterDate={(date) =>\r\n              !isDateInArray(date.toLocaleDateString(), excludedDates)\r\n            }\r\n            inline\r\n            disabled\r\n            readOnly\r\n          />\r\n        </div>\r\n        <div className=\"contenedor-reservas\">\r\n          <div className=\"reservas\">\r\n            <p>Agregá tus fechas de viaje para obtener precios exactos</p>\r\n            <Link\r\n              to={{\r\n                pathname: auth ? `/producto/${id}/reserva` : \"/login\",\r\n                state: !auth && {\r\n                  loginReserva: false,\r\n                  destination: `/producto/${id}/reserva`,\r\n                },\r\n              }}\r\n              className=\"btn btn-primario btn-reserva\"\r\n            >\r\n              Iniciar reserva\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductoDisponibilidad;\r\n","import { useContext } from \"react\";\r\nimport { ProdContext } from \"../../context/ProdContext\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport \"./ProductoMapa.css\";\r\n\r\nexport function ProductoMapa() {\r\n  const { prod } = useContext(ProdContext);\r\n  const { latitud, longitud, ciudad, direccion } = prod;\r\n\r\n  return (\r\n    <div className=\"contenedor-producto-mapa\">\r\n      <h2>¿Dónde vas a estar?</h2>\r\n      <h4>\r\n        {direccion}. {ciudad?.nombre}, {ciudad?.pais}.\r\n      </h4>\r\n      <div className=\"producto-mapa\">\r\n        <MapContainer\r\n          center={[latitud, longitud]}\r\n          zoom={15}\r\n          scrollWheelZoom={true}\r\n        >\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          <Marker position={[latitud, longitud]}>\r\n            <Popup>\r\n              {direccion}. {ciudad?.nombre}, {ciudad?.pais}.\r\n            </Popup>\r\n          </Marker>\r\n        </MapContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductoMapa;\r\n","import { useContext } from \"react\";\r\nimport { ProdContext } from \"./../../context/ProdContext\";\r\nimport \"./ProductoPoliticas.css\";\r\n\r\nfunction ProductoPoliticas() {\r\n  const { prod } = useContext(ProdContext);\r\n\r\n  return (\r\n    <div className=\"producto-politicas\">\r\n      <h2>Qué tenés que saber</h2>\r\n      <div className=\"politicas\">\r\n\r\n        {prod?.politicas?.map((politica, index) => (\r\n          <div className=\"politica\" key={index}>\r\n            <h3>{politica.titulo}</h3>\r\n            \r\n            {politica.descripcion.split(\"\\n\").map((text, idx) => (\r\n              <p key={idx}>{text}</p>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductoPoliticas;\r\n","export default __webpack_public_path__ + \"static/media/share-icon.daa77695.svg\";","import \"./ProductoSocials.css\";\r\nimport ShareIcon from \"./../../img/share-icon.svg\";\r\nimport FavHeart from \"../FavHeart/FavHeart\";\r\nimport { useState, useContext } from \"react\";\r\nimport { ProdContext } from \"../../context/ProdContext\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nconst ShareMenu = ({ img }) => {\r\n  const url = new URL(\r\n    \"https://www.digitalhouse.com/ar/acciones/certified-tech-developer\"\r\n  );\r\n  const title = \"Reserva%20de%20departamentos!\";\r\n\r\n  return (\r\n    <div className=\"producto-socials__share__menu\">\r\n      <a\r\n        className=\"share-icon-facebook\"\r\n        href={`https://www.facebook.com/sharer/sharer.php?u=${url.host}${url.pathname}`}\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        <i className=\"fab fa-facebook-square\" title=\"Facebook\"></i>\r\n      </a>\r\n\r\n      <a\r\n        className=\"share-icon-twitter\"\r\n        href={`https://twitter.com/share?url=${url.href}&text=${title}&via=_digitalhouse`}\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        <i className=\"fab fa-twitter-square\" title=\"Twitter\"></i>\r\n      </a>\r\n\r\n      <a\r\n        className=\"share-icon-pinterest\"\r\n        href={`http://pinterest.com/pin/create/link/?url=${url.href}&media=${img.urlImagen}&description=${title}`}\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        <i className=\"fab fa-pinterest-square\" title=\"Pinterest\"></i>\r\n      </a>\r\n\r\n      <a\r\n        className=\"share-icon-linkedin\"\r\n        href={`https://www.linkedin.com/shareArticle?mini=true&url=${url.href}&title=${title}&summary=${title}`}\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        <i className=\"fab fa-linkedin\" title=\"Linked In\"></i>\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction ProductoSocials() {\r\n  const [isMenuOpen, setMenuOpen] = useState(false);\r\n  const {\r\n    prod: { idProducto, imagenes },\r\n  } = useContext(ProdContext);\r\n  const { auth } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className=\"producto-socials\">\r\n      <div className=\"producto-socials__share\">\r\n        <img\r\n          src={ShareIcon}\r\n          alt=\"Compartir\"\r\n          title=\"Compartir\"\r\n          onClick={() => setMenuOpen(!isMenuOpen)}\r\n        />\r\n        {isMenuOpen && <ShareMenu img={imagenes[0]} />}\r\n      </div>\r\n      {auth?.roles?.includes(\"ROLE_USER\") && (\r\n        <FavHeart idProducto={idProducto} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductoSocials;\r\n","import { useContext, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport ProductoHeader from \"../../components/ProductoHeader/ProductoHeader\";\r\nimport ProductoUbicacion from \"../../components/ProductoUbicacion/ProductoUbicacion\";\r\nimport ProductoImagenes from \"../../components/ProductoImagenes/ProductoImagenes\";\r\nimport ProductoDescripcion from \"../../components/ProductoDescripcion/ProductoDescripcion\";\r\nimport ProductoCaracteristicas from \"../../components/ProductoCaracteristicas/ProductoCaracteristicas\";\r\nimport ProductoDisponibilidad from \"../../components/ProductoDisponibilidad/ProductoDisponibilidad\";\r\nimport ProductoMapa from \"../../components/ProductoMapa/ProductoMapa\";\r\nimport ProductoPoliticas from \"../../components/ProductoPoliticas/ProductoPoliticas\";\r\nimport useFetch from \"../../customHooks/useFetch\";\r\nimport { ProdContext } from \"./../../context/ProdContext\";\r\nimport { environment } from \"../../constants\";\r\nimport ProductoSocials from \"../../components/ProductoSocials/ProductoSocials\";\r\nimport LoadingBar from \"../../components/LoadingBar/LoadingBar\";\r\nimport Error from \"../../components/Error/Error\";\r\n\r\nfunction Producto() {\r\n  const { BASE_URL, PRODUCTOS_ENDPOINT, RESERVAS_ENDPOINT } = environment;\r\n\r\n  const { id_producto } = useParams();\r\n\r\n  const {\r\n    data: producto,\r\n    isLoading,\r\n    error,\r\n  } = useFetch(`${BASE_URL}${PRODUCTOS_ENDPOINT}${id_producto}`);\r\n  const { data: reservas } = useFetch(\r\n    `${BASE_URL}${RESERVAS_ENDPOINT}porProducto/${id_producto}`\r\n  );\r\n\r\n  const { newProd } = useContext(ProdContext);\r\n  useEffect(() => {\r\n    newProd(producto, reservas);\r\n  }, [producto, reservas, newProd]);\r\n\r\n  return (\r\n    <LayoutGeneral>\r\n      {isLoading ? (\r\n        <LoadingBar />\r\n      ) : error ? (\r\n        <Error info={\"Error al cargar el producto\"} />\r\n      ) : (\r\n        <>\r\n          <ProductoHeader />\r\n          <ProductoUbicacion />\r\n          <ProductoSocials />\r\n          <ProductoImagenes />\r\n          <ProductoDescripcion />\r\n          <ProductoCaracteristicas />\r\n          <ProductoDisponibilidad id={id_producto} />\r\n          <ProductoMapa />\r\n          <ProductoPoliticas />\r\n        </>\r\n      )}\r\n    </LayoutGeneral>\r\n  );\r\n}\r\n\r\nexport default Producto;\r\n","import \"./ReservaDatosUsuario.css\";\r\n\r\nfunction ReservaDatosUsuario({ firstName, lastName, email }) {\r\n  return (\r\n    <div className=\"reserva-datos-usuario\">\r\n      <h2>Completá tus datos</h2>\r\n      <div className=\"reserva-usuario-inputs\">\r\n        <div className=\"form-group\">\r\n          <label className=\"label-required\" htmlFor=\"nombre\">\r\n            Nombre\r\n          </label>\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Nombre\"\r\n            id=\"nombre\"\r\n            name=\"nombre\"\r\n            value={firstName}\r\n            disabled\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label className=\"label-required\" htmlFor=\"apellido\">\r\n            Apellido\r\n          </label>\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Apellido\"\r\n            id=\"apellido\"\r\n            name=\"apellido\"\r\n            value={lastName}\r\n            disabled\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label className=\"label-required\" htmlFor=\"email\">\r\n            Correo electrónico\r\n          </label>\r\n          <input\r\n            className=\"input\"\r\n            type=\"email\"\r\n            placeholder=\"Correo electrónico\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            value={email}\r\n            disabled\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label className=\"label-required\" htmlFor=\"ciudad\">\r\n            Ciudad\r\n          </label>\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Ingrese su ciudad\"\r\n            id=\"ciudad\"\r\n            name=\"ciudad\"\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group form-group-doble form-group-checkbox\">\r\n          <input\r\n            className=\"input-checkbox\"\r\n            type=\"checkbox\"\r\n            id=\"vacunado-covid\"\r\n            defaultValue=\"\"\r\n          />\r\n          <label htmlFor=\"vacunado-covid\">\r\n            ¿Estás vacunado contra el COVID-19?\r\n          </label>\r\n        </div>\r\n        <div className=\"form-group form-group-doble\">\r\n          <label htmlFor=\"observaciones\">Observaciones</label>\r\n          <textarea\r\n            className=\"input\"\r\n            name=\"observaciones\"\r\n            id=\"observaciones\"\r\n            rows=\"5\"\r\n            defaultValue=\"\"\r\n            placeholder=\"¿Querés dejarle un comentario al propietario?\"\r\n            maxLength=\"2000\"\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReservaDatosUsuario;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"./ReservaCalendario.css\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { ProdContext } from \"../../context/ProdContext\";\r\nimport {\r\n  getFechasOcupadasFromReservas,\r\n  isDateRangeOccupied,\r\n  isDateInArray,\r\n} from \"../../utils/dates\";\r\n\r\nfunction ReservaCalendario({ startDate, endDate, onChange, show = true }) {\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n\r\n  const handleResize = () => setWidth(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n  const { reservas } = useContext(ProdContext);\r\n  const excludedDates = reservas ? getFechasOcupadasFromReservas(reservas) : [];\r\n\r\n  const onChangeDates = (dates) => {\r\n    if (isDateRangeOccupied(dates[0], dates[1], excludedDates)) {\r\n      onChange([null, null]);\r\n    } else {\r\n      onChange(dates);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"contenedor-reserva-calendario\">\r\n      <h2 className=\"label-required\">Seleccioná tu fecha de reserva</h2>\r\n      <div className=\"reserva-calendario\">\r\n        {show && (\r\n          <DatePicker\r\n            monthsShown={width > 550 ? 2 : 1}\r\n            selectsRange\r\n            onChange={onChangeDates}\r\n            startDate={startDate}\r\n            endDate={endDate}\r\n            minDate={new Date()}\r\n            filterDate={(date) =>\r\n              !isDateInArray(date.toLocaleDateString(), excludedDates)\r\n            }\r\n            inline\r\n            required\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReservaCalendario;\r\n","import \"./ReservaHorario.css\";\r\n\r\nfunction ReservaHorario() {\r\n  return (\r\n    <div className=\"contenedor-reserva-horario\">\r\n      <h2>Tu horario de llegada</h2>\r\n      <div className=\"reserva-horario\">\r\n        <p>\r\n          <i className=\"far fa-check-circle\"></i>Tu habitación va a estar lista\r\n          para el check-in entre las 10:00 AM y las 11:00 PM\r\n        </p>\r\n        <label className=\"label-required\" htmlFor=\"horario\">\r\n          Indicá tu horario estimado de llegada\r\n        </label>\r\n        <select defaultValue=\"Seleccionar hora\" className=\"input\" name=\"horario\" id=\"horario\" required>\r\n          <option defaultValue=\"Seleccionar hora\" disabled>\r\n            Seleccionar hora\r\n          </option>\r\n          <option value=\"01:00:00\">01:00 AM</option>\r\n          <option value=\"02:00:00\">02:00 AM</option>\r\n          <option value=\"03:00:00\">03:00 AM</option>\r\n          <option value=\"04:00:00\">04:00 AM</option>\r\n          <option value=\"05:00:00\">05:00 AM</option>\r\n          <option value=\"06:00:00\">06:00 AM</option>\r\n          <option value=\"07:00:00\">07:00 AM</option>\r\n          <option value=\"08:00:00\">08:00 AM</option>\r\n          <option value=\"09:00:00\">09:00 AM</option>\r\n          <option value=\"10:00:00\">10:00 AM</option>\r\n          <option value=\"11:00:00\">11:00 AM</option>\r\n          <option value=\"12:00:00\">12:00 AM</option>\r\n          <option value=\"13:00:00\">01:00 PM</option>\r\n          <option value=\"14:00:00\">02:00 PM</option>\r\n          <option value=\"15:00:00\">03:00 PM</option>\r\n          <option value=\"16:00:00\">04:00 PM</option>\r\n          <option value=\"17:00:00\">05:00 PM</option>\r\n          <option value=\"18:00:00\">06:00 PM</option>\r\n          <option value=\"19:00:00\">07:00 PM</option>\r\n          <option value=\"20:00:00\">08:00 PM</option>\r\n          <option value=\"21:00:00\">09:00 PM</option>\r\n          <option value=\"22:00:00\">10:00 PM</option>\r\n          <option value=\"23:00:00\">11:00 PM</option>\r\n          <option value=\"00:00:00\">12:00 PM</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReservaHorario;\r\n","import { useContext } from \"react\";\r\nimport { ProdContext } from \"./../../context/ProdContext\";\r\nimport \"./ReservaDetalle.css\";\r\n\r\nfunction ReservaDetalle({ startDate, endDate }) {\r\n  const { prod } = useContext(ProdContext);\r\n  const { imagenes, categoria, nombre, ciudad } = prod;\r\n\r\n  let fechaInicio,\r\n    fechaFin = \"__ / __ / __\";\r\n  startDate !== null\r\n    ? (fechaInicio = startDate.toLocaleDateString())\r\n    : (fechaInicio = \"__ / __ / __\");\r\n  endDate !== null\r\n    ? (fechaFin = endDate.toLocaleDateString())\r\n    : (fechaFin = \"__ / __ / __\");\r\n\r\n  return (\r\n    <div className=\"contenedor-detalle-reserva\">\r\n      <div className=\"detalle-reserva\">\r\n        <h2>Detalle de la reserva</h2>\r\n        <div className=\"detalle-reserva-img-txt\">\r\n          <div className=\"img-detalle-reserva\">\r\n            <img src={imagenes[0].urlImagen} alt=\"Foto del inmueble\" />\r\n          </div>\r\n          <div className=\"body-detalle-reserva\">\r\n            <div>\r\n              <p>{categoria.titulo.toUpperCase()}</p>\r\n              <h2>{nombre}</h2>\r\n              <div>\r\n                <i className=\"fas fa-star\"></i>\r\n                <i className=\"fas fa-star\"></i>\r\n                <i className=\"fas fa-star\"></i>\r\n                <i className=\"fas fa-star\"></i>\r\n              </div>\r\n              <p className=\"ubicacion\">\r\n                <i className=\"fas fa-map-marker-alt\"></i>\r\n                {ciudad.nombre + \", \" + ciudad.pais}\r\n              </p>\r\n            </div>\r\n            <div className=\"body-resumen-detalle-reserva\">\r\n              <div className=\"check-in\">\r\n                <p>Check in</p>\r\n                <p className=\"fecha\">{fechaInicio}</p>\r\n              </div>\r\n              <div className=\"check-out\">\r\n                <p>Check out</p>\r\n                <p className=\"fecha\">{fechaFin}</p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-primario btn-confirmar-reserva\"\r\n            >\r\n              Confirmar reserva\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReservaDetalle;\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { ProdContext } from \"./../../context/ProdContext\";\r\nimport { AuthContext } from \"./../../context/AuthContext\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { environment } from \"../../constants\";\r\nimport useFetch from \"../../customHooks/useFetch\";\r\nimport LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport ProductoHeader from \"../../components/ProductoHeader/ProductoHeader\";\r\nimport ReservaDatosUsuario from \"../../components/ReservaDatosUsuario/ReservaDatosUsuario\";\r\nimport ReservaCalendario from \"../../components/ReservaCalendario/ReservaCalendario\";\r\nimport ReservaHorario from \"../../components/ReservaHorario/ReservaHorario\";\r\nimport ReservaDetalle from \"../../components/ReservaDetalle/ReservaDetalle\";\r\nimport ProductoPoliticas from \"../../components/ProductoPoliticas/ProductoPoliticas\";\r\nimport LoadingBar from \"../../components/LoadingBar/LoadingBar\";\r\nimport Error from \"../../components/Error/Error\";\r\nimport \"./Reserva.css\";\r\nimport { FiltroContext } from \"../../context/FiltroContext\";\r\n\r\nfunction Reserva() {\r\n  const { auth } = useContext(AuthContext);\r\n  const { id_producto } = useParams();\r\n\r\n  const { BASE_URL, PRODUCTOS_ENDPOINT, RESERVAS_ENDPOINT } = environment;\r\n  const {\r\n    data: producto,\r\n    isLoading,\r\n    error,\r\n  } = useFetch(`${BASE_URL}${PRODUCTOS_ENDPOINT}${id_producto}`);\r\n  const { data: reservas } = useFetch(\r\n    `${BASE_URL}${RESERVAS_ENDPOINT}porProducto/${id_producto}`\r\n  );\r\n\r\n  const { newProd } = useContext(ProdContext);\r\n  useEffect(() => {\r\n    newProd(producto, reservas);\r\n  }, [producto, reservas, newProd, auth]);\r\n\r\n  const {\r\n    filtros: { porFechaInicio, porFechaFin },\r\n  } = useContext(FiltroContext);\r\n  const [startDate, setStartDate] = useState(porFechaInicio);\r\n  const [endDate, setEndDate] = useState(porFechaFin);\r\n  const [formFeedback, setFormFeedback] = useState(\"\");\r\n\r\n  const onChangeDates = (dates) => {\r\n    const [start, end] = dates;\r\n    setStartDate(start);\r\n    setEndDate(end);\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setFormFeedback(\"\");\r\n\r\n    const inputs = e.target.elements;\r\n    if (\r\n      !inputs[\"ciudad\"].value ||\r\n      !startDate ||\r\n      !endDate ||\r\n      inputs[\"horario\"].selectedOptions[0].disabled\r\n    ) {\r\n      setFormFeedback(\"Falta completar campos obligatorios\");\r\n    } else {\r\n      const body = {\r\n        usuario: {\r\n          idUsuario: auth.idUsuario,\r\n          ciudad: inputs[\"ciudad\"].value,\r\n        },\r\n        producto: { idProducto: id_producto },\r\n        fechaInicio: startDate.toJSON().substring(0, 10),\r\n        fechaFin: endDate.toJSON().substring(0, 10),\r\n        horaIngreso: inputs[\"horario\"].value,\r\n        observaciones: inputs[\"observaciones\"].value.trim(),\r\n        vacunadoCovid: inputs[\"vacunado-covid\"].checked,\r\n      };\r\n\r\n      fetch(`${BASE_URL}${RESERVAS_ENDPOINT}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.jwt,\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then((res) => {\r\n          if (res.status !== 201) {\r\n            res.json().then((msg) => console.error(msg));\r\n            throw new Error(\"Status code no es 201\");\r\n          } else {\r\n            history.push(`/producto/${id_producto}/reserva-exitosa`);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          setFormFeedback(\r\n            \"Lamentablemente la reserva no ha podido realizarse. Por favor, intente más tarde\"\r\n          );\r\n        });\r\n    }\r\n  };\r\n  if (!auth) return <Redirect to=\"/login\" />;\r\n  if (!auth.roles?.includes(\"ROLE_USER\")) return <Redirect to=\"/\" />;\r\n\r\n  return (\r\n    <LayoutGeneral>\r\n      {isLoading ? (\r\n        <LoadingBar />\r\n      ) : error ? (\r\n        <Error info={\"Error al cargar el producto\"} />\r\n      ) : (\r\n        <>\r\n          <ProductoHeader />\r\n          <form\r\n            onSubmit={handleSubmit}\r\n            className=\"form-reserva\"\r\n            id=\"form-reserva\"\r\n          >\r\n            <div className=\"bloques-reserva\">\r\n              <div className=\"bloques-reserva-izq\">\r\n                <ReservaDatosUsuario {...auth} />\r\n                <ReservaCalendario\r\n                  startDate={startDate}\r\n                  endDate={endDate}\r\n                  onChange={onChangeDates}\r\n                  show={!!reservas}\r\n                />\r\n                <ReservaHorario />\r\n              </div>\r\n              <ReservaDetalle startDate={startDate} endDate={endDate} />\r\n            </div>\r\n            <Error info={formFeedback} />\r\n          </form>\r\n          <ProductoPoliticas />\r\n        </>\r\n      )}\r\n    </LayoutGeneral>\r\n  );\r\n}\r\n\r\nexport default Reserva;\r\n","import { Link } from \"react-router-dom\";\r\nimport imagen from \"../../img/reserva-exitosa.png\";\r\nimport \"./CartelExito.css\";\r\n\r\nfunction CartelExito({ titulo, desc, to = \"/\", btnText = \"Ok\" }) {\r\n  return (\r\n    <div className=\"cartel-exito\">\r\n      <div className=\"contenedor\">\r\n        <img src={imagen} alt=\"Éxito\" />\r\n        {titulo && <p className=\"txt-gracias\">{titulo}</p>}\r\n        {desc && <p className=\"txt-exito\">{desc}</p>}\r\n        <Link to={to} className=\"btn btn-primario btn-sm\">\r\n          {btnText}\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartelExito;\r\n","export default \"data:image/png;base64,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\"","import LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport CartelExito from \"../../components/CartelExito/CartelExito\";\r\n\r\nfunction ReservaExitosa() {\r\n  return (\r\n    <LayoutGeneral>\r\n      <CartelExito\r\n        titulo={\"¡Muchas gracias!\"}\r\n        desc={\"Su reserva se ha realizado con éxito\"}\r\n      />\r\n    </LayoutGeneral>\r\n  );\r\n}\r\n\r\nexport default ReservaExitosa;\r\n","import { useEffect } from \"react\";\r\nimport useFetch from \"../../customHooks/useFetch\";\r\nimport { environment } from \"../../constants\";\r\nimport \"./NuevoProductoCamposEntrada.css\";\r\n\r\nfunction NuevoProductoCamposEntrada({ setFormFeedback }) {\r\n  const { BASE_URL, CIUDADES_ENDPOINT, CATEGORIAS_ENDPOINT } = environment;\r\n  const { data: ciudades } = useFetch(`${BASE_URL}${CIUDADES_ENDPOINT}`);\r\n  const { data: categorias } = useFetch(`${BASE_URL}${CATEGORIAS_ENDPOINT}`);\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  return (\r\n    <div className=\"campos-entrada\">\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"nombre-producto\" className=\"label-required\">\r\n          Nombre del producto\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"nombre-producto\"\r\n          name=\"nombre-producto\"\r\n          className=\"input\"\r\n          placeholder=\"La soñada\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"categoria-producto\" className=\"label-required\">\r\n          Categoría\r\n        </label>\r\n        <select\r\n          className=\"input\"\r\n          name=\"categoria-producto\"\r\n          id=\"categoria-producto\"\r\n          defaultValue=\"Elegir categoría\"\r\n          required\r\n          onChange={() => setFormFeedback(\"\")}\r\n        >\r\n          <option defaultValue=\"Elegir categoría\" disabled>\r\n            Elegir categoría\r\n          </option>\r\n          {categorias?.map((categoria) => (\r\n            <option value={categoria.idCategoria} key={categoria.idCategoria}>\r\n              {categoria.titulo}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"direccion-producto\" className=\"label-required\">\r\n          Dirección\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"direccion-producto\"\r\n          name=\"direccion-producto\"\r\n          className=\"input\"\r\n          placeholder=\"Av. Colón 1643\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"ciudad-producto\" className=\"label-required\">\r\n          Ciudad\r\n        </label>\r\n        <select\r\n          className=\"input\"\r\n          name=\"ciudad-producto\"\r\n          id=\"ciudad-producto\"\r\n          defaultValue=\"Elegir ciudad\"\r\n          required\r\n          onChange={() => setFormFeedback(\"\")}\r\n        >\r\n          <option defaultValue=\"Elegir ciudad\" disabled>\r\n            Elegir ciudad\r\n          </option>\r\n          {ciudades?.map((ciudad) => (\r\n            <option value={ciudad.idCiudad} key={ciudad.idCiudad}>\r\n              {ciudad.nombre + \", \" + ciudad.pais}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"latitud-producto\" className=\"label-required\">\r\n          Latitud\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"latitud-producto\"\r\n          name=\"latitud-producto\"\r\n          className=\"input\"\r\n          placeholder=\"-34.42644508044667\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"longitud-producto\" className=\"label-required\">\r\n          Longitud\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"longitud-producto\"\r\n          name=\"longitud-producto\"\r\n          className=\"input\"\r\n          placeholder=\"-58.56230721452969\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form-group form-group-doble\">\r\n        <label htmlFor=\"descripcion-producto\" className=\"label-required\">\r\n          Descripción\r\n        </label>\r\n        <textarea\r\n          className=\"input\"\r\n          name=\"descripcion-producto\"\r\n          id=\"descripcion-producto\"\r\n          rows=\"6\"\r\n          defaultValue=\"\"\r\n          placeholder=\"Escribir aquí\"\r\n          maxLength=\"2000\"\r\n          required\r\n        ></textarea>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NuevoProductoCamposEntrada;\r\n","import { useEffect, useRef, useContext, useState, useCallback } from \"react\";\r\nimport { environment } from \"../../constants\";\r\nimport { AuthContext } from \"./../../context/AuthContext\";\r\nimport \"./NuevoProductoCaracteristicas.css\";\r\n\r\nfunction NuevoProductoCaracteristicas() {\r\n  const { auth } = useContext(AuthContext);\r\n  const { BASE_URL, CARACTERISTICAS_ENDPOINT } = environment;\r\n  const inputNombre = useRef(null);\r\n  const inputIcono = useRef(null);\r\n  const [caract, setCaract] = useState([]);\r\n\r\n  /* \r\n  useCallback evita que la referencia a \r\n  getCaracteristicas cambie en cada render \r\n  */\r\n  const fetchCaracteristicas = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(`${BASE_URL}${CARACTERISTICAS_ENDPOINT}`);\r\n      if (res.status === 200) {\r\n        const data = await res.json();\r\n        setCaract(data);\r\n      } else {\r\n        throw new Error(\"Error al fetchear las características\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }, [BASE_URL, CARACTERISTICAS_ENDPOINT]);\r\n\r\n  useEffect(() => {\r\n    fetchCaracteristicas();\r\n  }, [fetchCaracteristicas]);\r\n\r\n  const handlePostNewCaracteristica = () => {\r\n    if (!inputNombre.current?.value || !inputIcono.current?.value) {\r\n      return;\r\n    }\r\n    const caracteristica = {\r\n      nombre: inputNombre.current?.value,\r\n      urlIcono: inputIcono.current?.value,\r\n    };\r\n\r\n    const settings = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: \"Bearer \" + auth.jwt,\r\n      },\r\n      body: JSON.stringify(caracteristica),\r\n    };\r\n\r\n    // POST con los datos del usuario\r\n    fetch(`${BASE_URL}${CARACTERISTICAS_ENDPOINT}`, settings)\r\n      .then((res) => res.json())\r\n      .then((car) => setCaract([...caract, car]))\r\n      .catch((err) => console.error(err));\r\n\r\n    inputNombre.current.value = \"\";\r\n    inputIcono.current.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"contenedor-atributos-producto\">\r\n      <h4>Agregar atributos</h4>\r\n      <div className=\"checkbox-atributos\">\r\n        <div className=\"checkbox-atributos-existentes\">\r\n          {caract?.map((caracteristica, index) => (\r\n            <div className=\"form-group form-group-checkbox\" key={index}>\r\n              <input\r\n                className=\"input-checkbox\"\r\n                type=\"checkbox\"\r\n                name=\"caracteristicas\"\r\n                id={caracteristica.idCaracteristica}\r\n              />\r\n              <i\r\n                className={caracteristica.urlIcono}\r\n                style={{ color: \"var(--colorUno)\" }}\r\n              ></i>\r\n              <label htmlFor={caracteristica.idCaracteristica}>\r\n                {caracteristica.nombre}\r\n              </label>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <fieldset className=\"checkbox-atributos-nuevo\">\r\n          <legend>Crear un atributo nuevo:</legend>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"nombre-caracteristica\">Nombre</label>\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              id=\"nombre-caracteristica\"\r\n              name=\"nombre-caracteristica\"\r\n              placeholder=\"Wifi\"\r\n              ref={inputNombre}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"icono-caracteristica\">Ícono</label>\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              id=\"icono-caracteristica\"\r\n              name=\"icono-caracteristica\"\r\n              placeholder=\"fas fa-wifi\"\r\n              ref={inputIcono}\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\" btn-primario btn-agregar\"\r\n            title=\"Agregar nuevo\"\r\n            onClick={handlePostNewCaracteristica}\r\n          >\r\n            <i className=\"fas fa-plus\"></i>\r\n          </button>\r\n        </fieldset>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NuevoProductoCaracteristicas;\r\n","import \"./NuevoProductoPoliticas.css\";\r\n\r\nfunction NuevoProductoPoliticas() {\r\n  return (\r\n    <div className=\"contenedor-politicas-producto\">\r\n      <h4>Políticas del producto</h4>\r\n\r\n      <div className=\"politicas-producto\">\r\n        <div className=\"politica-producto\">\r\n          <h5>Normas de la casa</h5>\r\n          <label htmlFor=\"descripcion-normas-casa\" className=\"label-required\">\r\n            Descripción\r\n          </label>\r\n          <textarea\r\n            className=\"input\"\r\n            name=\"descripcion-normas-casa\"\r\n            id=\"descripcion-normas-casa\"\r\n            rows=\"6\"\r\n            placeholder=\"Escribir aquí\"\r\n            required\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div className=\"politica-producto\">\r\n          <h5>Salud y seguridad</h5>\r\n          <label\r\n            htmlFor=\"descripcion-salud-seguridad\"\r\n            className=\"label-required\"\r\n          >\r\n            Descripción\r\n          </label>\r\n          <textarea\r\n            className=\"input\"\r\n            name=\"descripcion-salud-seguridad\"\r\n            id=\"descripcion-salud-seguridad\"\r\n            rows=\"6\"\r\n            placeholder=\"Escribir aquí\"\r\n            required\r\n          ></textarea>\r\n        </div>\r\n        \r\n        <div className=\"politica-producto\">\r\n          <h5>Políticas de cancelación</h5>\r\n          <label htmlFor=\"descripcion-cancelacion\" className=\"label-required\">\r\n            Descripción\r\n          </label>\r\n          <textarea\r\n            className=\"input\"\r\n            name=\"descripcion-cancelacion\"\r\n            id=\"descripcion-cancelacion\"\r\n            rows=\"6\"\r\n            placeholder=\"Escribir aquí\"\r\n            required\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NuevoProductoPoliticas;\r\n","import { useRef } from \"react\";\r\nimport \"./NuevoProductoImagenes.css\";\r\n\r\nfunction NuevoProductoImagenes({ imagenes, setImagenes }) {\r\n  const inputNombre = useRef(null);\r\n  const inputUrl = useRef(null);\r\n\r\n  const handleNewImg = () => {\r\n    if (inputNombre.current?.value !== \"\" && inputUrl.current?.value !== \"\") {\r\n      setImagenes([\r\n        ...imagenes,\r\n        {\r\n          titulo: inputNombre.current?.value.trim(),\r\n          urlImagen: inputUrl.current?.value.trim(),\r\n        },\r\n      ]);\r\n    }\r\n    inputNombre.current.value = \"\";\r\n    inputUrl.current.value = \"\";\r\n  };\r\n\r\n  const handleBorrarImg = (id) => {\r\n    setImagenes(imagenes.filter((_, idx) => idx !== id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"contenedor-imagenes-producto\">\r\n      <h4>Cargar imágenes</h4>\r\n\r\n      <div className=\"imagenes-producto\">\r\n        <div className=\"imagenes-nueva\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"nombre-imagen\" className=\"label-required\">\r\n              Título de la imagen\r\n            </label>\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              id=\"nombre-imagen\"\r\n              name=\"nombre-imagen\"\r\n              placeholder=\"Foto casa\"\r\n              ref={inputNombre}\r\n              required={imagenes.length === 0}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"url-imagen\" className=\"label-required\">\r\n              URL de la imagen\r\n            </label>\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              id=\"url-imagen\"\r\n              name=\"url-imagen\"\r\n              placeholder=\"Insertar https://\"\r\n              ref={inputUrl}\r\n              required={imagenes.length === 0}\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn-primario btn-agregar\"\r\n            title=\"Agregar nuevo\"\r\n            onClick={handleNewImg}\r\n          >\r\n            <i className=\"fas fa-plus\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        {imagenes.length !== 0 && (\r\n          <div className=\"imagenes-cargadas\">\r\n            {imagenes.map((img, idx) => (\r\n              <div key={idx}>\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"text\"\r\n                  value={img.titulo}\r\n                  disabled\r\n                />\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"text\"\r\n                  value={img.urlImagen}\r\n                  disabled\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-primario btn-agregar borrar-img\"\r\n                  title=\"Borrar imagen\"\r\n                  onClick={() => handleBorrarImg(idx)}\r\n                >\r\n                  <i className=\"fas fa-times\"></i>\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NuevoProductoImagenes;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport Titulo from \"../../components/Titulo/Titulo\";\r\nimport NuevoProductoCamposEntrada from \"../../components/NuevoProductoCamposEntrada/NuevoProductoCamposEntrada\";\r\nimport NuevoProductoCaracteristicas from \"../../components/NuevoProductoCaracteristicas/NuevoProductoCaracteristicas\";\r\nimport NuevoProductoPoliticas from \"../../components/NuevoProductoPoliticas/NuevoProductoPoliticas\";\r\nimport NuevoProductoImagenes from \"../../components/NuevoProductoImagenes/NuevoProductoImagenes\";\r\nimport Error from \"../../components/Error/Error\";\r\nimport { AuthContext } from \"./../../context/AuthContext\";\r\nimport { environment } from \"../../constants\";\r\nimport \"./NuevoProductoPage.css\";\r\n\r\nfunction NuevoProductoPage() {\r\n  const { BASE_URL, PRODUCTOS_ENDPOINT } = environment;\r\n\r\n  const { auth } = useContext(AuthContext);\r\n  useEffect(() => {}, [auth]);\r\n\r\n  const [imagenes, setImagenes] = useState([]);\r\n  const [formFeedback, setFormFeedback] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n\r\n  const handlerSubmit = (e) => {\r\n    e.preventDefault();\r\n    setFormFeedback(\"\");\r\n    const inputs = e.target.elements;\r\n\r\n    const caract = [];\r\n    for (let i = 0; i < inputs[\"caracteristicas\"]?.length; i++) {\r\n      if (inputs[\"caracteristicas\"][i].checked) {\r\n        caract.push({ idCaracteristica: inputs[\"caracteristicas\"][i].id });\r\n      }\r\n    }\r\n    let imgsAEnviar = imagenes;\r\n    if (inputs[\"nombre-imagen\"].value && inputs[\"url-imagen\"].value) {\r\n      imgsAEnviar = [\r\n        ...imagenes,\r\n        {\r\n          titulo: inputs[\"nombre-imagen\"].value.trim(),\r\n          urlImagen: inputs[\"url-imagen\"].value.trim(),\r\n        },\r\n      ];\r\n      inputs[\"nombre-imagen\"].value = \"\";\r\n      inputs[\"url-imagen\"].value = \"\";\r\n    }\r\n\r\n    if (\r\n      inputs[\"categoria-producto\"].value === \"Elegir categoría\" ||\r\n      inputs[\"ciudad-producto\"].value === \"Elegir ciudad\" ||\r\n      imgsAEnviar.length === 0\r\n    ) {\r\n      setFormFeedback(\"Falta completar campos obligatorios\");\r\n    } else {\r\n      const producto = {\r\n        nombre: inputs[\"nombre-producto\"].value.trim(),\r\n        descripcion: inputs[\"descripcion-producto\"].value.trim(),\r\n        latitud: inputs[\"latitud-producto\"].value.trim(),\r\n        longitud: inputs[\"longitud-producto\"].value.trim(),\r\n        categoria: {\r\n          idCategoria: inputs[\"categoria-producto\"].value,\r\n        },\r\n        ciudad: {\r\n          idCiudad: inputs[\"ciudad-producto\"].value,\r\n        },\r\n        direccion: inputs[\"direccion-producto\"].value.trim(),\r\n        caracteristicas: caract,\r\n        politicas: [\r\n          {\r\n            titulo: \"Normas de la casa\",\r\n            descripcion: inputs[\"descripcion-normas-casa\"].value.trim(),\r\n          },\r\n          {\r\n            titulo: \"Salud y seguridad\",\r\n            descripcion: inputs[\"descripcion-salud-seguridad\"].value.trim(),\r\n          },\r\n          {\r\n            titulo: \"Políticas de cancelación\",\r\n            descripcion: inputs[\"descripcion-cancelacion\"].value.trim(),\r\n          },\r\n        ],\r\n        imagenes: imgsAEnviar,\r\n      };\r\n\r\n      fetch(`${BASE_URL}${PRODUCTOS_ENDPOINT}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.jwt,\r\n        },\r\n        body: JSON.stringify(producto),\r\n      })\r\n        .then((res) => {\r\n          if (res.status !== 201) {\r\n            throw new Error();\r\n          } else {\r\n            history.push(\"/creacion-producto-exitosa\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          setFormFeedback(\r\n            \"Lamentablemente el producto no ha podido crearse. Por favor intente más tarde\"\r\n          );\r\n        });\r\n    }\r\n  };\r\n\r\n  if (!auth) return <Redirect to=\"/\" />;\r\n\r\n  return auth.roles?.includes(\"ROLE_ADMIN\") ? (\r\n    <LayoutGeneral>\r\n      <Titulo titulo=\"Administración de productos\" />\r\n\r\n      <section className=\"contenedor-nuevo-prod\">\r\n        <h3>Crear producto</h3>\r\n        <form onSubmit={handlerSubmit} id=\"form-nuevo-prod\">\r\n          <NuevoProductoCamposEntrada setFormFeedback={setFormFeedback} />\r\n          <NuevoProductoCaracteristicas />\r\n          <NuevoProductoPoliticas />\r\n          <NuevoProductoImagenes\r\n            imagenes={imagenes}\r\n            setImagenes={setImagenes}\r\n          />\r\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <button type=\"submit\" className=\"btn btn-primario btn-crear-prod\">\r\n              Crear\r\n            </button>\r\n          </div>\r\n          <Error info={formFeedback} />\r\n        </form>\r\n      </section>\r\n    </LayoutGeneral>\r\n  ) : (\r\n    <Redirect to=\"/\" />\r\n  );\r\n}\r\n\r\nexport default NuevoProductoPage;\r\n","import { useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport CartelExito from \"../../components/CartelExito/CartelExito\";\r\nimport LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nfunction NuevoProductoOk() {\r\n  const { auth } = useContext(AuthContext);\r\n\r\n  if (!auth) return <Redirect to=\"/\" />;\r\n\r\n  return auth.roles?.includes(\"ROLE_ADMIN\") ? (\r\n    <LayoutGeneral>\r\n      <CartelExito\r\n        desc=\"Tu propiedad se ha creado con éxito.\"\r\n        btnText=\"Volver\"\r\n      />\r\n    </LayoutGeneral>\r\n  ) : (\r\n    <Redirect to=\"/\" />\r\n  );\r\n}\r\n\r\nexport default NuevoProductoOk;\r\n","import { useContext, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport CartelExito from \"../../components/CartelExito/CartelExito\";\r\nimport LayoutGeneral from \"../../components/LayoutGeneral/LayoutGeneral\";\r\nimport LoadingBar from \"../../components/LoadingBar/LoadingBar\";\r\nimport { environment } from \"../../constants\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nfunction RegistroExitosoPage() {\r\n  const { BASE_URL, TOKEN_ENDPOINT } = environment;\r\n  const { token } = useParams();\r\n  const { logout } = useContext(AuthContext);\r\n  const [isOk, setOk] = useState(!token);\r\n\r\n  const validateToken = async () => {\r\n    try {\r\n      const res = await fetch(`${BASE_URL}${TOKEN_ENDPOINT}${token}`, {\r\n        method: \"POST\",\r\n      });\r\n      if (res.status >= 400) {\r\n        throw Error(\"Error de la api al validar el token\");\r\n      } else {\r\n        setOk(true);\r\n        logout();\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n  if (token) validateToken();\r\n\r\n  return (\r\n    <LayoutGeneral>\r\n      {isOk ? (\r\n        token ? (\r\n          <CartelExito\r\n            titulo={\"¡Bienvenido!\"}\r\n            desc={\"Tu cuenta ha sido verificada exitosamente\"}\r\n            btnText=\"Iniciar sesión\"\r\n            to=\"/login\"\r\n          />\r\n        ) : (\r\n          <CartelExito\r\n            titulo={\"¡Cuenta registrada con éxito!\"}\r\n            desc={\"Te enviamos un email para confirmar tu cuenta\"}\r\n            btnText=\"Ir al inicio\"\r\n          />\r\n        )\r\n      ) : (\r\n        <LoadingBar />\r\n      )}\r\n    </LayoutGeneral>\r\n  );\r\n}\r\n\r\nexport default RegistroExitosoPage;\r\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport HomePage from \"./pages/HomePage/HomePage\";\r\nimport LoginPage from \"./pages/LoginPage/LoginPage\";\r\nimport NotFoundPage from \"./pages/NotFoundPage/NotFoundPage\";\r\nimport RegistroPage from \"./pages/RegistroPage/RegistroPage\";\r\nimport MisFavoritosPage from \"./pages/MisFavoritosPage/MisFavoritosPage\";\r\nimport MisReservasPage from \"./pages/MisReservasPage/MisReservasPage\";\r\nimport Producto from \"./pages/Producto/Producto\";\r\nimport Reserva from \"./pages/Reserva/Reserva\";\r\nimport ReservaExitosa from \"../src/pages/ReservaExitosa/ReservaExitosa\";\r\nimport NuevoProductoPage from \"../src/pages/NuevoProductoPage/NuevoProductoPage\";\r\nimport NuevoProductoOk from \"../src/pages/NuevoProductoOk/NuevoProductoOk\";\r\nimport { AuthProvider } from \"./../src/context/AuthContext\";\r\nimport { ProdProvider } from \"../src/context/ProdContext\";\r\nimport \"./styles.css\";\r\nimport { FavsProvider } from \"./context/FavsContext\";\r\nimport { FiltroProvider } from \"./context/FiltroContext\";\r\nimport RegistroExitosoPage from \"./pages/RegistroExitosoPage/RegistroExitosoPage\";\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <AuthProvider>\r\n          <Route exact path=\"/login\" component={LoginPage}></Route>\r\n          <Route exact path=\"/registro\" component={RegistroPage}></Route>\r\n\r\n          <FavsProvider>\r\n            <FiltroProvider>\r\n              <Route exact path=\"/\" component={HomePage}></Route>\r\n              <Route exact path=\"/admin\" component={NuevoProductoPage}></Route>\r\n              <Route\r\n                exact\r\n                path=\"/registro-exitoso\"\r\n                component={RegistroExitosoPage}\r\n              ></Route>\r\n              <Route\r\n                exact\r\n                path=\"/auth/confirm-account/:token\"\r\n                component={RegistroExitosoPage}\r\n              ></Route>\r\n\r\n              <Route\r\n                exact\r\n                path=\"/usuario/:id_usuario/favoritos\"\r\n                component={MisFavoritosPage}\r\n              ></Route>\r\n              <Route\r\n                exact\r\n                path=\"/usuario/:id_usuario/reservas\"\r\n                component={MisReservasPage}\r\n              ></Route>\r\n\r\n              <Route\r\n                exact\r\n                path=\"/creacion-producto-exitosa\"\r\n                component={NuevoProductoOk}\r\n              ></Route>\r\n\r\n              <ProdProvider>\r\n                <Route\r\n                  exact\r\n                  path=\"/producto/:id_producto\"\r\n                  component={Producto}\r\n                ></Route>\r\n                <Route\r\n                  exact\r\n                  path=\"/producto/:id_producto/reserva\"\r\n                  component={Reserva}\r\n                ></Route>\r\n                <Route\r\n                  exact\r\n                  path=\"/producto/:id_producto/reserva-exitosa\"\r\n                  component={ReservaExitosa}\r\n                ></Route>\r\n              </ProdProvider>\r\n            </FiltroProvider>\r\n          </FavsProvider>\r\n\r\n          <Route exact path=\"/not-found\" component={NotFoundPage} />\r\n        </AuthProvider>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}